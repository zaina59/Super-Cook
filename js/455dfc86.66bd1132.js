(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["455dfc86"],{"260d":function(t,e,s){},"58a0":function(t,e,s){"use strict";s.r(e);var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("q-page",[s("header",{staticClass:"header-block red-header"},[s("div",{staticClass:"head-navigation"},[t.$q.platform.is.desktop?s("a",{staticClass:"head-nav-left details-menu w-inline-block",attrs:{id:"w-node-a61a6361b53c-6d6eed2a"},on:{click:function(e){return e.preventDefault(),t.back_click(e)}}},[s("img",{attrs:{src:"statics/images/back-arrow.svg",alt:""}})]):s("a",{staticClass:"head-nav-left w-inline-block",attrs:{id:"w-node-a61a6361b53c-47e82395"},on:{click:function(e){t.$router.push("account")}}},[t.api.state.login_hash?s("img",{attrs:{src:"statics/images/male-user-white.png",alt:""}}):s("img",{attrs:{src:"statics/images/male-user-100.png",alt:""}})]),s("div",{staticClass:"head-nav-center",attrs:{id:"w-node-f9334d0a1656-31578099"}},[s("h1",{staticClass:"head-title"},[t._v(t._s(t.$t("188.favorites")))]),s("div",{staticClass:"head-sub-title"},[t._v(t._s(t.$t("188.favorites")))])]),s("div",{staticClass:"head-nav-right",attrs:{id:"w-node-06caa6264020-31578099"}},[s("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[s("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),s("a",{staticClass:"head-link-icon w-inline-block"})])]),s("div",{staticClass:"search-bar-wrap w-form"},[s("q-search",{ref:"searchtxt",staticClass:"form-control w-input",attrs:{"hide-underline":"",id:"search",name:"query","full-width":"",placeholder:t.$t("84.find"),autocomplete:"off",clearable:"",color:"black"},on:{clear:t.kw_cleared,enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.api.state.text_search,callback:function(e){t.$set(t.api.state,"text_search",e)},expression:"api.state.text_search"}},[s("q-autocomplete",{ref:"autocompleter",on:{search:t.dautoc,selected:t.search_from_autoc}})],1),s("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),s("section",{staticClass:"content-block"},[s("div",{staticClass:"wrapper"},[s("transition",{attrs:{"enter-active-class":"animated fadeIn",mode:"out-in",duration:{enter:750,leave:50}}},[this.no_results?s("div",{key:"no_results",staticClass:"empty-state-wrapper fixed-center"},[s("div",{staticClass:"empty-state-content"},[s("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),t.api.are_any_filters_selected()?s("div",[s("h4",{staticClass:"empty-state-heading"},[t._v(t._s(t.$t("85.no.recipes.found.with.filters")))]),s("a",{staticClass:"btn",on:{click:function(e){t.clear_filters()}}},[t._v(t._s(t.$t("86.clear.filters")))])]):s("h4",{staticClass:"empty-state-heading"},[t._v(" "+t._s(t.$t("191.you.have.x.favorites",{x:0}))+" ")])])]):t._e()]),s("div",{staticClass:"section-divider"}),s("div",{staticClass:"tab-navigation-wrap w-tabs",attrs:{"data-duration-in":"300","data-duration-out":"100"}},[s("div",{staticClass:"tab-navigation-content w-tab-content"},[s("div",{staticClass:"tab-navigation-pane w-tab-pane w--tab-active",attrs:{"data-w-tab":"My Favorites"}},[t.api.state.login_hash?s("Filters",{staticStyle:{"margin-left":"10px"},on:{filter_changed:t.filter_change}}):t._e(),s("div",{staticClass:"section-block",class:{ipadgrid:t.$q.platform.is.ipad||t.$q.platform.is.desktop}},t._l(t.results,function(e,i){return s("recipe",{key:e.id,attrs:{recipe:e,index:i},on:{open_recipe:t.opened_recipe}})})),t.api.state.login_hash?t._e():s("div",{staticClass:"empty-state-wrapper fixed-center"},[s("div",{staticClass:"empty-state-content"},[s("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),s("h4",{staticClass:"empty-state-heading"},[t._v(t._s(t.$t("189.only.registered.can.save.recipes")))]),s("a",{staticClass:"btn",on:{click:function(e){t.$router.push("signup")}}},[t._v(t._s(t.$t("190.sign.up.for.free")))])])])],1)])])],1)])])},a=[];i._withStripped=!0;s("6b54");var n=s("f569"),r=s("e2a0"),c={data:function(){return{loading:!1,api:this.$api,opened:{},results:[],no_results:!1,tab:"faves"}},components:{Recipe:n["a"],Filters:r["a"]},computed:{},methods:{back_click:function(){this.api.state.desktop_route="category",this.api.state.last_desktop_position=0},opened_recipe:function(t){var e=document.querySelector("#desktop_main");this.api.state.last_desktop_position=e.scrollTop},dautoc:function(t,e){if(!t){var s=this.api.state.search_history.map(function(t){return{label:t,icon:"cached",value:t}});return e(s)}this.$axios.get(this.$api.api_domain+"/dyn/dautoc?term="+t+"&lang="+this.api.state.lang).then(function(t){var s=t.data;return s=_.map(s,function(t){return _.zipObject(["label","value"],[t,t])}),e(s)}).catch(function(t){})},kw_cleared:function(t){this.api.state.text_search="",this.$refs.searchtxt.blur(),this.api.state.favorites_changed=!0,this.update_results()},kw_enter:function(){var t=this;this.$refs.autocompleter.hide(),this.api.update_selected_cats(),this.api.state.favorites_changed=!0,this.update_results(),setTimeout(function(){t.$refs.autocompleter.hide()},500)},search_from_autoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(this.$refs.searchtxt.blur(),this.api.state.text_search=t.value,this.api.update_selected_cats(),this.api.state.favorites_changed=!0,this.update_results())},filter_change:function(){this.api.state.favorites_changed=!0,this.update_results()},signup_prompt:function(){var t=this;this.$q.dialog({title:"You're not registered",message:"You need an account to save recipes.  Would you like to sign up now?",ok:"Yes",cancel:"No"}).then(function(){t.$router.push("/signup")}).catch(function(){})},clear_filters:function(){this.api.clear_all_filters(),this.update_results(1),this.no_results=!1},update_results:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;if(this.$q.platform.is.desktop){if("favorites"!=this.api.state.desktop_route)return}else if("/favorites"!=this.$router.currentRoute.path)return;(this.api.state.favorites_changed||e)&&this.api.state.login_hash&&(window.scrollTo(0,0),this.$q.loading.show({message:""}),this.no_results=!1,this.api.get_recipes({only_favorites:!0}).then(function(e){t.$q.loading.hide(),t.can_make=e.total_can_make_right_now,t.results=e.results,0==t.results.length&&(t.no_results=!0),t.api.state.saved=t.results.map(function(t){return t.id.toString()}),t.api.state.favorites_changed=!1}).catch(function(t){}))}},mounted:function(){this.api.state.app_loaded||this.$q.platform.is.desktop||this.$router.push("/");var t=this;this.$root.$on("filter_change",function(){t.api.state.favorites_changed=!0}),this.$root.$on("signout",function(){t.results=[]}),this.$root.$on("filter_update",function(){t.api.state.favorites_changed=!0,t.$q.platform.is.desktop?"favorites"==t.api.state.desktop_route&&t.update_results(1):"/favorites"==t.$router.currentRoute.path&&t.update_results(1)})},activated:function(){if(this.update_results(),this.api.state.last_desktop_position){var t=document.querySelector("#desktop_main");t.scrollTop=this.api.state.last_desktop_position}},watch:{"api.state.category_page_name":function(t){this.api.state.favorites_changed=!0}}},o=c,l=(s("5bc1"),s("2877")),p=Object(l["a"])(o,i,a,!1,null,null,null);p.options.__file="favorites.vue";e["default"]=p.exports},"5bc1":function(t,e,s){"use strict";var i=s("5c7f"),a=s.n(i);a.a},"5c7f":function(t,e,s){},"7a2b":function(t,e,s){"use strict";var i=s("260d"),a=s.n(i);a.a},f569:function(t,e,s){"use strict";var i=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"product-list-item",class:{"product-list-item-desktop":t.$q.platform.is.desktop}},[s("div",{staticClass:"product-item-image",on:{click:function(e){t.set_open(t.recipe.id)}}},[s("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.recipe.img,expression:"recipe.img"}],key:t.recipe.id,staticClass:"product-item-img",attrs:{alt:""}}),t.recipe.v?s("img",{staticClass:"videoplay",attrs:{src:"statics/play.png",alt:""}}):t._e()]),s("div",{staticClass:"product-item-text"},[s("div",{staticClass:"product-item-text-head"},[s("h4",{staticClass:"product-item-title item-title-nowrap",domProps:{innerHTML:t._s(t.recipe.title)},on:{click:function(e){t.set_open(t.recipe.id)}}}),s("a",{staticClass:"product-favourite-button w-inline-block",class:{active:t.$api.is_recipe_saved(t.recipe.id)},on:{click:function(e){t.toggle_saved_recipe(t.recipe.id)}}}),t.$q.platform.is.desktop?s("q-icon",{staticStyle:{"margin-left":"10px"},attrs:{name:"open_in_new",size:"15px"},nativeOn:{click:function(e){t.open_in_window(t.recipe.id)}}}):t._e()],1),s("div",{staticClass:"product-item-sub-text displayurl"},[t._v(t._s(t.recipe.domain))]),0==t.recipe.needs.length?s("div",{staticClass:"product-item-sub-text"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),t.recipe.needs.length>0?s("div",{staticClass:"product-alert-text danger"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),s("div",{staticClass:"horizontal-inner-view"},[s("div",{staticClass:"white-space-no"},t._l(t.recipe.tags,function(e,i){return s("a",{staticClass:"tags-mini-item",class:{"right-push-8px":i==t.recipe.tags.length-1}},[t._v(t._s(e))])}))])])])},a=[];i._withStripped=!0;s("6b54"),s("28a5");var n=s("96a1"),r={name:"Recipe",methods:{open_in_window:function(t){this.$api.get_recipe_details(t).then(function(t){Object(n["a"])(t.recipe.hash)})},signup_prompt:function(){var t=this;this.$q.dialog({title:this.$t("258.not.registered"),message:this.$t("259.you.need.account"),ok:this.$t("37.yes"),cancel:this.$t("38.no")}).then(function(){t.$q.platform.is.desktop?t.$api.state.desktop_route="signup":t.$router.push("/signup")}).catch(function(){})},toggle_saved_recipe:function(t){this.$api.state.login_hash?this.$api.is_recipe_saved(t)?this.$api.unsave_recipe(t):this.$api.save_recipe(t):this.signup_prompt()},set_open:function(t){this.$emit("open_recipe",t),this.$q.platform.is.desktop?(this.$api.state.recipe_id=t,this.$api.desktop_recipe_referrer=JSON.parse(JSON.stringify(this.$api.state.desktop_route))):this.$router.push("/recipe/"+t)},make_label:function(t){return 0==t.needs.length?this.$t("63.you.have.all.x.ingredients",{x:t.uses.split(",").length}):this.$q.platform.is.desktop?this.$t("82.youre.missing.x",{x:t.needs.join(", ")}):t.needs.length<3?this.$t("82.youre.missing.x",{x:t.needs.join(" "+this.$t("81.and")+" ")}):this.$t("176.youre.missing.x.ingredients",{x:t.needs.length.toString()})}},props:["recipe"]},c=r,o=(s("7a2b"),s("2877")),l=Object(o["a"])(c,i,a,!1,null,null,null);l.options.__file="result.vue";e["a"]=l.exports}}]);