(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["2c77ccd6"],{"96a1":function(t,i,a){"use strict";var e=a("a60d");i["a"]=function(t,i){if(e["a"].is.cordova&&navigator&&navigator.app)return navigator.app.loadUrl(t,{openExternal:!0});var a=window.open(t,"_blank");if(a)return a.focus(),a;i&&i()}},be60:function(t,i,a){},f641:function(t,i,a){"use strict";a.r(i);var e=function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("q-page",[a("div",{staticClass:"full-screen-wrapper with-bg-pattern"},[a("div",{staticClass:"accountback head-navigation",class:{"accountback-desktop":t.$q.platform.is.desktop}},[a("a",{staticClass:"head-nav-left details-menu w-inline-block",attrs:{id:"w-node-a61a6361b53c-6d6eed2a"},on:{click:function(i){i.preventDefault(),t.back_click()}}},[a("img",{attrs:{src:"statics/images/back-arrow.svg",alt:""}})])]),a("button",{on:{click:t.switch_lang}},[t._v(t._s(t.$t("301.switch.language")))]),t.api.state.login_hash?t._e():a("div",{staticClass:"get-started-head"},[a("a",{staticClass:"btn-link red",on:{click:function(i){t.signup_click()}}},[t._v(t._s(t.$t("208.sign.up")))])]),a("div",{staticClass:"get-started-content"},[a("div",{staticClass:"get-started-logo"},[a("img",{staticClass:"get-started-logo-img",attrs:{src:"statics/images/super-cook-logo.png",alt:""}})]),a("div",{staticClass:"get-started-form-block w-form",class:{"get-started-form-block-desktop":t.$q.platform.is.desktop}},[a("div",{staticClass:"form-group"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.api.state.login_email,expression:"api.state.login_email"}],staticClass:"form-group-control _1st-child-form-control w-input",staticStyle:{"text-align":"center"},attrs:{type:"text",maxlength:"256",name:"name","data-name":"Name",placeholder:t.$t("210.email"),id:"name"},domProps:{value:t.api.state.login_email},on:{input:function(i){i.target.composing||t.$set(t.api.state,"login_email",i.target.value)}}}),t.api.state.login_hash?t._e():a("input",{directives:[{name:"model",rawName:"v-model",value:t.api.state.login_password,expression:"api.state.login_password"}],staticClass:"form-group-control last-child-form-control w-input",staticStyle:{"text-align":"center"},attrs:{type:"password",maxlength:"256",name:"email","data-name":"Email",placeholder:t.$t("211.password"),id:"email",required:""},domProps:{value:t.api.state.login_password},on:{input:function(i){i.target.composing||t.$set(t.api.state,"login_password",i.target.value)}}})]),t._e(),t.api.state.login_hash?t._e():a("input",{staticClass:"login-logout-btn w-button account-submit-btn",attrs:{type:"button",value:t.$t("204.login")},on:{click:function(i){t.regular_login()}}}),t.api.state.login_hash?a("input",{staticClass:"login-logout-btn w-button account-submit-btn",attrs:{type:"button",value:t.$t("202.sign.out")},on:{click:function(i){t.signing_out()}}}):t._e(),a("a",{staticClass:"btn-link change_password",on:{click:function(i){t.change_password()}}},[t.api.state.login_hash?a("span",[t._v("\n              "+t._s(t.$t("203.change.password"))+"\n            ")]):a("span",[t._v("\n              "+t._s(t.$t("205.forgot.password"))+"\n            ")])]),a("br"),t.api.state.login_hash?a("a",{staticClass:"btn-link change_password",on:{click:function(i){t.delete_account()}}},[a("span",[t._v("\n              "+t._s(t.$t("351.delete.my.account"))+"\n            ")])]):t._e()])])])])},s=[];e._withStripped=!0;var n=a("96a1"),o=(a("4328"),{data:function(){return{api:this.$api,recipe:""}},methods:{signup_click:function(){this.$q.platform.is.desktop?this.api.state.desktop_route="signup":this.$router.push("signup")},back_click:function(){this.$q.platform.is.desktop?this.api.state.desktop_route="category":this.$router.back()},switch_lang:function(){this.api.persist("lang",""),this.$q.platform.is.desktop?this.api.state.desktop_route="onboarding":this.$router.push("onboarding")},signing_out:function(){this.api.sign_out(),this.api.state.login_password="",this.$root.$emit("clear_results"),this.api.analytics("signed out "+this.api.state.lang),this.$q.platform.is.desktop&&this.$root.$emit("filter_update")},swipe_handler:function(t){"up"==t.direction?this.api.state.active_recipe<this.api.state.results.length-1&&(this.api.state.active_recipe=this.api.state.active_recipe+1,this.recipe=this.api.state.results[this.api.state.active_recipe]):"down"==t.direction?this.api.state.active_recipe>0&&(this.api.state.active_recipe=this.api.state.active_recipe-1,this.recipe=this.api.state.results[this.api.state.active_recipe]):"right"==t.direction&&window.history.back()},dummy:function(){return 1},open_link:function(t){Object(n["a"])(t)},swipe_back:function(){window.history.back()},change_password:function(){var t=this;this.api.state.login_email.indexOf("@")<0?this.$q.dialog({title:this.$t("238.error"),message:this.$t("239.type.your.email"),ok:{color:"pink",label:this.$t("263.ok"),push:!1}}):(this.$q.loading.show(),this.$axios.get(this.api.api_domain+"/dyn/change_pw_request_v2?email="+this.api.state.login_email+"&lang="+this.api.state.lang).then(function(i){t.$q.loading.hide(),t.$q.dialog({title:"",message:t.$t("206.check.inbox.for.password.reset.email"),ok:{color:"pink",label:t.$t("263.ok"),push:!1}})}).catch(function(i){t.$q.loading.hide()}))},delete_account:function(){var t=this,i={email:this.api.state.login_email,lh:this.api.state.login_hash,lang:this.api.state.lang};this.$q.loading.show(),this.$axios.post(this.api.api_domain+"/dyn/delete_account",i).then(function(i){t.$q.loading.hide(),t.$q.dialog({title:"",message:t.$t("352.check.inbox.account.deletion.email"),ok:{color:"pink",label:t.$t("263.ok"),push:!1}})}).catch(function(i){t.$q.loading.hide(),t.api.analytics("delete_account_error"),t.$q.dialog({title:t.$t("238.error"),message:t.$t("292.server.error"),ok:{color:"pink",label:t.$t("263.ok"),push:!1}})})},regular_login:function(){var t=this;this.api.state.login_password&&this.api.state.login_email?this.api.login(this.api.state.login_email,this.api.state.login_password).then(function(i){t.api.get_selected_ingredients().length>0&&(t.$root.$emit("loggedin"),t.api.analytics("sign in "+t.api.state.lang),t.$q.platform.is.desktop?(t.api.state.desktop_route="category",t.$root.$emit("filter_update")):t.$router.push("menu"))}).catch(function(i){t.api.analytics("sign in error"),"There was a problem contacting the server"==i&&(i=t.$t("292.server.error")),t.$q.dialog({title:t.$t("238.error"),message:i,ok:{color:"pink",label:t.$t("263.ok"),push:!1}})}):this.$q.dialog({title:"   ",message:this.$t("265.please.enter.email.and.password"),ok:{color:"pink",label:this.$t("263.ok"),push:!1}})},process_login:function(t){this.api.state.login_hash=t.data.h,this.api.state.saved=t.data.saved,this.api.state.email=this.api.state.login_email,this.api.state.results=[],this.api.state.last_search_request="",this.api.persist("login_hash",this.api.state.login_hash),this.api.persist("email",this.api.state.login_email);var i=_.uniq(t.data.ingredients);this.api.set_these_ingredients(i)}},activated:function(){}}),l=o,r=(a("f64a"),a("2877")),c=Object(r["a"])(l,e,s,!1,null,null,null);c.options.__file="account2.vue";i["default"]=c.exports},f64a:function(t,i,a){"use strict";var e=a("be60"),s=a.n(e);s.a}}]);