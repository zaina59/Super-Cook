(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["aa1d33de"],{ad8a:function(t,i,e){"use strict";var s=e("cc82"),n=e.n(s);n.a},c485:function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("q-page",[e("q-modal",{attrs:{position:"bottom"},model:{value:t.add_voice_prompt,callback:function(i){t.add_voice_prompt=i},expression:"add_voice_prompt"}},[e("div",{staticClass:"modal-content-head"},[e("h3",{staticClass:"modal-content-head-title"},[t._v(t._s(t.$t("44.add.ingredients")))])]),e("div",{staticClass:"speak-history-wrap"},[e("div",{staticClass:"speak-history-list"},t._l(t.api.state.voice_ingredients_to_confirm,function(i){return e("div",{staticClass:"speak-history-list-item"},[e("a",{staticClass:"speak-history-text"},[t._v(t._s(i))]),e("a",{staticClass:"speak-history-remove-icon",on:{click:function(e){t.remove_v_ingredient(i)}}},[t._v("x")])])})),e("div",{staticClass:"speak-small-icon"},[t.text_entry_mode?t._e():e("img",{attrs:{src:"statics/images/icon-lyrics.png",alt:""}})]),e("div",{staticClass:"speak-action-buttons"},[e("a",{staticClass:"btn btn-black",on:{click:t.confirm_voice_ingredients}},[t._v(t._s(t.$t("270.add.to.ingredients")))]),t.text_entry_mode?t._e():e("a",{staticClass:"btn btn-link",on:{click:function(i){t.get_voice_query(t.append=!0)}}},[t._v(" "+t._s(t.$t("45.add.more"))+"  ")])])])]),e("header",{staticClass:"header-block pantry_header_block"},[e("div",{staticClass:"head-navigation"},[e("a",{staticClass:"head-nav-left w-inline-block",attrs:{id:"w-node-ca3c72dbf773-e0a03056"}},[t.$q.platform.is.desktop?e("span",{on:{click:function(i){t.api.state.side_route="ingredients"}}},[e("q-icon",{staticStyle:{color:"white"},attrs:{name:"dashboard_customize",size:"25px"}})],1):e("span",{on:{click:function(i){t.$router.back()}}},[e("img",{attrs:{src:"statics/images/back-arrow-white.svg",alt:""}})])]),e("div",{staticClass:"head-nav-center",attrs:{id:"w-node-ca3c72dbf775-e0a03056"}},[e("h1",{staticClass:"head-title"},[t._v(t._s(t.$t("23.pantry")))]),e("div",{staticClass:"head-sub-title"},[t._v(t._s(t.$t("25.you.have.x.ingredients",{x:t.$api.get_selected_ingredients().length})))])]),e("div",{staticClass:"head-nav-right",attrs:{id:"w-node-ca3c72dbf77a-e0a03056"}},[e("q-icon",{class:{supercook_greenaz:t.api.state.az_sort,azicon:!t.api.state.az_sort},attrs:{id:"pantry_az",name:"sort_by_alpha"},nativeOn:{click:function(i){t.api.state.az_sort=!t.api.state.az_sort}}}),e("q-icon",{staticClass:"shopping-more-vert",staticStyle:{"margin-left":"20px"},attrs:{name:"more_vert"}},[e("q-popover",[e("q-list",[e("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(i){t.delete_all()}}},[e("q-item-side",{attrs:{icon:"delete"}}),e("q-item-main",[e("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.$t("39.remove.all.ingredients")))])],1)],1),e("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(i){t.copy_ingredients()}}},[e("q-item-side",{attrs:{icon:"file_copy"}}),e("q-item-main",[e("q-item-tile",{attrs:{label:""}},[t._v(t._s(t.$t("40.copy.to.clipboard")))])],1)],1)],1)],1)],1)],1)]),e("div",{staticClass:"search-bar-wrap w-form"},[e("q-search",{staticClass:"form-control w-input",attrs:{"hide-underline":"",id:"search",placeholder:t.$t("43.add.remove.paste.ingredients"),autocomplete:"off",color:"black"},on:{focus:function(i){t.kwfocus()},blur:function(i){t.kwblur()},keyup:function(i){return"button"in i||!t._k(i.keyCode,"enter",13,i.key,"Enter")?t.kw_enter(i):null}},model:{value:t.kitchen_input,callback:function(i){t.kitchen_input=i},expression:"kitchen_input"}},[e("q-autocomplete",{on:{search:t.autoc2,selected:t.add_ingredient_from_autoc}})],1),e("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),0==t.$api.get_selected_ingredients().length&&"onboarding"!=t.api.state.desktop_route?e("div",{staticClass:"empty-state-wrapper fixed-center"},[e("div",{staticClass:"empty-state-content"},[e("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),e("h4",{staticClass:"empty-state-heading"},[t._v(t._s(t.$t("241.add.your.ingredients.to.get.started")))]),e("a",{staticClass:"btn",on:{click:function(i){t.$router.back()}}},[t._v(t._s(t.$t("44.add.ingredients")))])])]):t._e(),e("section",{staticClass:"content-block",attrs:{id:"pantry_content_block"}},[t.api.state.az_sort?t._e():e("div",{staticClass:"wrapper_pantry all_ingredients"},[e("div",{staticClass:"section-divider"}),t._l(t.api.state.ingredients,function(i,s){return t.selected_in_cat(t.api.state.ingredients[s].ingredients).length>0&&"All cuisines.png"!=i.icon?e("div",{staticClass:"section-block"},[e("div",{staticClass:"section-title-with-icon"},[e("img",{staticClass:"section-title-icon",attrs:{src:"statics/sicons/"+i.icon,alt:""}}),e("h4",{staticClass:"section-title-icon-text"},[t._v(t._s(i.category))])]),e("div",{staticClass:"shopping-list"},t._l(t.selected_in_cat(t.api.state.ingredients[s].ingredients),function(i){return e("div",{staticClass:"shopping-list-item"},[e("a",{staticClass:"shopping-list-checkbox2"},[t._v(t._s(i.i))]),e("a",{staticClass:"ingredients-items-btn w-inline-block add-to-shopping-icon",staticStyle:{right:"140px","text-decoration":"none",color:"gray"},on:{click:function(e){t.goto_cat(i.i)}}},[e("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"search",size:"25px"}})],1),t.$q.platform.is.desktop?t._e():e("a",{staticClass:"ingredients-items-btn w-inline-block add-to-shopping-icon",on:{click:function(e){t.add_to_shopping_list(i.i)}}},[t.api.is_in_shopping_list(i.i)?e("img",{attrs:{src:"statics/images/checked-cart.png",alt:""}}):t._e(),t.api.is_in_shopping_list(i.i)?t._e():e("img",{attrs:{src:"statics/images/checkout-icon.png",alt:""}})]),e("a",{staticClass:"shopping-list-remove2 w-inline-block",on:{click:function(e){t.delete_ingredient(i.i)}}},[e("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"delete_outline",size:"20px"}})],1)])}))]):t._e()})],2),t.api.state.az_sort?e("div",{staticClass:"wrapper_pantry all_ingredients"},[e("div",{staticClass:"section-block"},[e("div",{staticClass:"shopping-list"},t._l(t.api.get_selected_ingredients().sort(),function(i){return e("div",{staticClass:"shopping-list-item"},[e("a",{staticClass:"shopping-list-checkbox2"},[t._v(t._s(i))]),e("a",{staticClass:"ingredients-items-btn w-inline-block add-to-shopping-icon",staticStyle:{right:"140px","text-decoration":"none",color:"gray"},on:{click:function(e){t.goto_cat(i)}}},[e("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"search",size:"25px"}})],1),e("a",{staticClass:"ingredients-items-btn w-inline-block add-to-shopping-icon",on:{click:function(e){t.add_to_shopping_list(i)}}},[t.api.is_in_shopping_list(i)?e("img",{attrs:{src:"statics/images/checked-cart.png",alt:""}}):t._e(),t.api.is_in_shopping_list(i)?t._e():e("img",{attrs:{src:"statics/images/checkout-icon.png",alt:""}})]),e("a",{staticClass:"shopping-list-remove2 w-inline-block",on:{click:function(e){t.delete_ingredient(i)}}},[e("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"delete_outline",size:"20px"}})],1)])}))])]):t._e()]),t.$q.platform.is.desktop?t._e():e("div",{staticClass:"button-group-fixed pantry_btm"},[e("div",{staticClass:"d-flex-col"},[e("a",{staticClass:"btn btn-black grey w-inline-block pantry_foot_btn",on:{click:function(i){t.add_more_click()}}},[e("div",{staticClass:"white-space-no"},[t._v(t._s(t.$t("45.add.more"))+"\n            ")])])]),e("div",{staticClass:"d-flex-col"},[e("a",{staticClass:"btn btn-black red w-inline-block pantry_foot_btn",on:{click:function(i){t.see_recipes_click()}}},[e("div",{staticClass:"white-space-no"},[t._v(t._s(t.$t("41.see.recipes")))])])])])],1)},n=[];s._withStripped=!0;var a=e("448a"),o=e.n(a),c=(e("55dd"),e("7f7f"),e("6762"),e("2fdb"),e("ac4d"),e("8a81"),e("ac6a"),e("2ef0")),r=e.n(c),l={data:function(){return{mymodal:0,loading:!1,az_sort:!1,ingredients:[],kitchen:[],selectOptions:[],left_drawer:0,right_drawer:0,times_left_drawer_closed:0,times_right_drawer_closed:0,results:!1,last_search_request:"",active_tab:"categories",kitchen_input:"",throttled_search:0,leap_data:{},recipes_loading:!1,disable_cuisine:!1,disable_mealtype:!1,title:"Supercook",api:this.$api,add_voice_prompt:!1,shopping_list_prompt:!1,last_shopping_list_ingredient:"",resolvers:[],voice_active:!1,text_entry_mode:!1}},methods:{get_voice_ingredients:function(t){var i=this;this.$q.loading.show({message:""}),this.$axios.get(this.api.api_domain+"/dyn/voice_input?lang="+this.api.state.lang+"&q="+t).then(function(t){if(i.$q.loading.hide(),t.data.suggestions.length>0)return i.resolvers=t.data.suggestions,i.add_voice_prompt_resolve=!0,i.voice_active=!1,void(i.api.state.voice_ingredients_to_confirm=t.data.ingredients);var e=t.data.ingredients;if(i.voice_active=!1,0==e.length)return i.api.analytics("dictate no ingredients found-"+i.api.state.lang),void i.$q.dialog({title:i.$t("31.woops"),message:i.$t("32.no.ingredients.recognized")});if(i.voice_append){var s=!0,n=!1,a=void 0;try{for(var o,c=e[Symbol.iterator]();!(s=(o=c.next()).done);s=!0){var r=o.value;-1==i.api.state.voice_ingredients_to_confirm.indexOf(r)&&i.api.state.voice_ingredients_to_confirm.push(r)}}catch(t){n=!0,a=t}finally{try{s||null==c.return||c.return()}finally{if(n)throw a}}}else i.api.analytics("dictate success-"+i.api.state.lang),i.api.state.voice_ingredients_to_confirm=e;if(i.$q.platform.is.desktop){var l=!0,d=!1,p=void 0;try{for(var _,u=e[Symbol.iterator]();!(l=(_=u.next()).done);l=!0){var h=_.value;i.api.enable_ingredient(h)}}catch(t){d=!0,p=t}finally{try{l||null==u.return||u.return()}finally{if(d)throw p}}i.$q.notify({message:"".concat(e.join(", ")," ").concat(i.$t("262.added")),timeout:500}),i.kitchen_input="",i.$root.$emit("filter_update")}else i.add_voice_prompt=!0})},kwfocus:function(){this.$q.platform.is.desktop||(document.querySelector(".button-group-fixed").style.visibility="hidden",document.querySelector(".footer-block").style.visibility="hidden")},kwblur:function(){this.$q.platform.is.desktop||(document.querySelector(".button-group-fixed").style.visibility="visible",document.querySelector(".footer-block").style.visibility="visible")},kw_enter:function(){if(this.kitchen_input=this.kitchen_input.toLowerCase(),this.kitchen_input){var t=this.api.get_selected_ingredients();return t.includes(this.kitchen_input)?(this.$q.notify({message:"".concat(this.kitchen_input," ").concat(this.$t("261.removed")),timeout:1500}),this.api.disable_ingredient(this.kitchen_input),this.api.persist_ingredients(),void(this.kitchen_input="")):this.api.enable_ingredient(this.kitchen_input)?(this.$q.notify({message:"".concat(this.kitchen_input," ").concat(this.$t("262.added")),timeout:1500}),this.api.persist_ingredients(),void(this.kitchen_input="")):void this.get_voice_ingredients(this.kitchen_input)}},add_ingredient_from_autoc:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;if(!i){this.kwblur();var e=t.value;"pink-6"==t.leftColor?(this.api.disable_ingredient(e),this.$q.notify("".concat(e," ").concat(this.$t("261.removed")))):(this.api.enable_ingredient(e),this.$q.notify({message:"".concat(e," ").concat(this.$t("262.added")),timeout:1500})),this.kitchen_input="",this.api.persist_ingredients(),this.$q.platform.is.desktop&&this.$root.$emit("filter_update")}},autoc2:function(t,i){var e=this,s=this.api.get_selected_ingredients();this.$axios.get(this.api.api_domain+"/dyn/iautoc?lang=".concat(this.api.state.lang,"&term=").concat(t)).then(function(t){var n=t.data,a=n.map(function(t){if(s.includes(t.name)||s.includes(t.parent)){var i={label:t.name,value:t.parent,icon:"delete_outline",leftColor:"pink-6",stamp:e.$t("275.remove")};return t.parent!==t.name&&(i.label="".concat(i.label," (").concat(t.parent,")")),i}i={label:t.name,value:t.parent,icon:"add",leftColor:"light-green-5",stamp:e.$t("274.add")};return t.parent!==t.name&&(i.label="".concat(i.label," (").concat(t.parent,")")),i});return i(a)}).catch(function(t){})},goto_cat:function(t){this.api.update_selected_cats(),this.$root.$emit("reset_category"),this.api.state.focused_ingredients=[],this.api.state.focused_ingredients.push(t),this.$q.platform.is.desktop?this.$root.$emit("ingredients_cleared"):this.$router.push("/menu/category")},add_more_click:function(){this.$router.go(-1)},see_recipes_click:function(){this.$router.push("/menu")},copy_to_clipboard:function(t){var i=document.createElement("textarea");i.value=t,i.setAttribute("readonly",""),i.style={position:"absolute",left:"-9999px"},document.body.appendChild(i),i.select(),document.execCommand("copy"),document.body.removeChild(i)},copy_ingredients:function(){var t=this.api.get_selected_ingredients();0!=t.length?(t.sort(),this.copy_to_clipboard(t.join("\r\n")),this.api.analytics("copy to clipboard from pantry"),this.$q.dialog({title:this.$t("47.success"),message:this.$t("48.your.ingredients.in.clipboard")})):this.$q.dialog({title:this.$t("31.woops"),message:"You have no ingredients.  Add some ingredients and try again"})},delete_all:function(){var t=this;this.$q.dialog({title:this.$t("46.confirm"),message:this.$t("49.are.you.sure.remove.all"),ok:!0,cancel:!0}).then(function(){t.api.analytics("remove all ingredients from pantry"),t.api.set_these_ingredients([]),t.api.clear_all_filters(),t.api.persist_ingredients(),t.$root.$emit("ingredients_cleared"),t.$root.$emit("clear_results")}).catch(function(){})},add_to_shopping_list:function(t){this.api.add_to_shopping_list(t)},selected_in_cat:function(t){var i=this,e=t.filter(function(t){return[i.api.state.ingredients_reactive_counter].concat(o()(i.api.get_selected_ingredients())).includes(t.i)});return e.sort(function(t,i){return t.i.localeCompare(i.i)})},confirm_voice_ingredients:function(){for(var t=0;t<this.api.state.voice_ingredients_to_confirm.length;t++)this.api.enable_ingredient(this.api.state.voice_ingredients_to_confirm[t]);this.add_voice_prompt=!1},remove_v_ingredient:function(t){for(var i=0;i<this.api.state.voice_ingredients_to_confirm.length;i++)if(this.api.state.voice_ingredients_to_confirm[i]==t)return void this.api.state.voice_ingredients_to_confirm.splice(i,1)},choose_category:function(t){this.api.state.selected_ingredients_category=t,this.$router.push("/ingredients_cat")},selected_in_category:function(t){for(var i=0;i<this.api.state.ingredients.length;i++)if(this.api.state.ingredients[i].category==t)return r.a.filter(this.api.state.ingredients[i].ingredients,["enabled",!0]).length},get_voice_query:function(){var t=this;this.api.request_voice_permission().then(function(i){if(i){var e={lang:"en-US",showPopup:!0},s=t;window.plugins.speechRecognition.startListening(function(t){s.get_voice_ingredients(t[0])},function(t){},e)}})},delete_ingredient:function(t){this.api.unselect_ingredient(t),this.api.state.ingredients_reactive_counter+=1,this.$api.state.results_need_updating=!0,this.api.persist_ingredients(),this.$q.platform.is.desktop&&(this.$root.$emit("filter_update"),0==this.api.get_selected_ingredients().length&&this.$root.$emit("clear_results"))},autoc:function(t,i){var e=this.api.search_ingredients(t);e=r.a.map(e,function(t){return r.a.zipObject(["label","value"],[t,t])}),i(e)}},computed:{ingredients_for_filter:function(){return r.a.orderBy(r.a.map(this.$api.get_selected_ingredients(),function(t){return r.a.zipObject(["label","value"],[t,t])}),["label"])}},mounted:function(){this.api.state.app_loaded||this.$q.platform.is.desktop||this.$router.push("/")},activated:function(){this.api.state.focused_ingredients=[],this.api.state.ifuhad_ingredient=""}},d=l,p=(e("ad8a"),e("2877")),_=Object(p["a"])(d,s,n,!1,null,null,null);_.options.__file="pantry.vue";i["default"]=_.exports},cc82:function(t,i,e){}}]);