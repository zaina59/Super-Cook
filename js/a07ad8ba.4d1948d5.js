(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["a07ad8ba"],{"260d":function(t,e,i){},"35c8":function(t,e,i){"use strict";var s=i("ec1c"),a=i.n(s);a.a},"7a2b":function(t,e,i){"use strict";var s=i("260d"),a=i.n(s);a.a},"8e16":function(t,e,i){},"96a1":function(t,e,i){"use strict";var s=i("a60d");e["a"]=function(t,e){if(s["a"].is.cordova&&navigator&&navigator.app)return navigator.app.loadUrl(t,{openExternal:!0});var i=window.open(t,"_blank");if(i)return i.focus(),i;e&&e()}},a028:function(t,e,i){"use strict"},b4e8:function(t,e,i){"use strict";var s=i("8e16"),a=i.n(s);a.a},dba4:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[i("div",{staticClass:"header-block"},[i("div",{staticClass:"search-bar-wrap nomargintop w-form"},[i("q-search",{ref:"search_screen_txt",staticClass:"form-control w-input",attrs:{autofocus:"","hide-underline":"",id:"search",name:"query","full-width":"",placeholder:"Find...",autocomplete:"off",clearable:""},on:{clear:function(e){t.clear()},enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.kw,callback:function(e){t.kw=e},expression:"kw"}},[i("q-autocomplete",{ref:"autocompleter2",attrs:{"min-characters":0},on:{selected:t.search_from_autoc,search:t.dautoc}})],1),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),i("section",{staticClass:"content-block"},[i("div",{staticClass:"wrapper"},[t.results.length>0?i("div",{staticClass:"section-block"},[i("h4",{staticClass:"section-title text-center"},[t._v(t._s(t.possibilities.toLocaleString())+" matches. You can make "+t._s(t.can_make.toLocaleString()))])]):t._e(),i("transition",{attrs:{"enter-active-class":"animated fadeIn",mode:"out-in",duration:{enter:750,leave:50}}},[this.no_results?i("div",{key:"no_results",staticClass:"empty-state-wrapper fixed-center"},[i("div",{staticClass:"empty-state-content"},[i("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),i("h4",{staticClass:"empty-state-heading"},[t._v("no recipes were found")])])]):t._e()]),t.results.length>0?i("div",{staticClass:"section-block"},t._l(t.results,function(e,s){return i("div",{key:e.id},[3==s&&t.results.length>5&&t.ingredient_prompt.length>0?i("div",{staticClass:"question-block"},[i("div",{staticClass:"question-head"},[i("img",{attrs:{src:"statics/images/question-icon-red.svg",alt:""}}),i("h4",{staticClass:"question-head-title"},[t._v("Do you have any of these ingredients?")])]),i("div",{staticClass:"question-content"},[i("div",t._l(t.ingredient_prompt,function(e){return i("a",{staticClass:"tags-list-item-border",class:{"make-visible":e.visible,"make-hidden":!e.visible},on:{click:function(i){t.douhave_click(e.ingredient)}}},[t._v("\n                      "+t._s(e.ingredient)+"\n                    ")])}))]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.doyouhave_touched,expression:"doyouhave_touched"}],staticClass:"question-foot"},[i("a",{staticClass:"btn-link",on:{click:t.doyouhave_update_click}},[t._v("Update")])])]):t._e(),i("recipe",{attrs:{recipe:e,index:s}})],1)})):t._e()],1)]),i("transition",{attrs:{"enter-active-class":"animated slideInDown",mode:"out-in",duration:{enter:10,leave:50}}},[t.small_header?i("div",{key:"smallheader",staticClass:"button-group-fixed small-header"},[i("div",{staticClass:"head-navigation-fixed"},[i("a",{staticClass:"head-nav-left w-inline-block",attrs:{id:"w-node-6aa32991a2ac-2991a2aa",href:"#"}},[i("img",{attrs:{src:"statics/images/male-user-100.png",alt:""}})]),i("div",{staticClass:"head-nav-center",attrs:{id:"w-node-6aa32991a2ae-2991a2aa"}},[i("form",{staticClass:"search-bar-wrap-fixed w-form",attrs:{action:"/search"}},[i("input",{staticClass:"form-control-search-fixed w-input",attrs:{type:"search",maxlength:"256",name:"query",placeholder:"Search Keyword",id:"search",required:""}}),i("a",{staticClass:"search-mic w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/mic-icon.png",alt:""}})]),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})])]),i("div",{staticClass:"head-nav-right",attrs:{id:"w-node-6aa32991a2b4-2991a2aa"}},[i("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),i("a",{staticClass:"head-link-icon w-inline-block",on:{click:function(e){t.api.state.show_filter=!0}}},[i("img",{attrs:{src:"statics/images/filter_icons.png",alt:""}})])])])]):t._e()])],1)},a=[];s._withStripped=!0;var n=i("448a"),c=i.n(n),r=(i("96a1"),i("a028"),i("1fe0"),i("f569")),o=function(){var t=this,e=t.$createElement,i=t._self._c||e;return t.api.state.selected_cats.length>0||t.api.state.focused_ingredients.length>0?i("div",[i("div",{staticClass:"horizontal-view section_horizontal"},[i("div",{staticClass:"white-space-no"},t._l(t.selected_tags_and_ingredients,function(e,s){return i("div",{staticClass:"tags-with-close-default",class:{"left-push-24m":0==s,"right-push-24m":s==t.api.state.selected_cats.length-1}},[i("a",{staticClass:"tags-with-close-default-text"},[t._v(t._s(e))]),i("a",{staticClass:"tags-with-close-default-btn",on:{click:function(i){t.disable_filter(e)}}},[t._v("x")])])}))])]):t._e()},l=[];o._withStripped=!0;var u={name:"ActiveFilters",data:function(){return{api:this.$api}},computed:{selected_tags_and_ingredients:function(){c()(this.api.state.selected_cats).concat(c()(this.api.state.focused_ingredients));return c()(this.api.state.selected_cats).concat(c()(this.api.state.focused_ingredients))}},methods:{disable_filter:function(t){this.api.disable_category(t),this.$emit("filter_changed"),this.api.update_selected_cats(),this.$root.$emit("filter_change")},ingredient_checked:function(t){this.$emit("checked",t)}},props:[],watch:{"api.state.show_filter":function(t){0==t&&(this.api.update_selected_cats(),this.$emit("filter_changed"))}}},p=u,d=(i("35c8"),i("2877")),h=Object(d["a"])(p,o,l,!1,null,null,null);h.options.__file="active_filters.vue";var f=h.exports,m={data:function(){return{loading:!1,api:this.$api,opened:{},last_qs:"",can_make:0,results:[],ingredient_prompt:[],doyouhave_touched:!1,possibilities:0,small_header:!1,kw:"",history:[],no_results:!1}},components:{Recipe:r["a"],ActiveFilters:f},computed:{is_filter_enabled:function(){if(this.api.state.selected_cats.length>0)return!0}},methods:{signup_prompt:function(){var t=this;this.$q.dialog({title:"You're not registered",message:"You need an account to save recipes.  Would you like to sign up now?",ok:"Yes",cancel:"No"}).then(function(){t.$router.push("/signup")}).catch(function(){})},voice_kw_search:function(){var t=this;this.$q.platform.is.cordova?this.api.request_voice_permission().then(function(e){if(e){var i={lang:"en-US",showPopup:!0},s=t;window.plugins.speechRecognition.startListening(function(t){s.$refs.searchtxt.blur(),s.api.state.text_search=t[0],s.api.state.results_need_updating=!0,s.api.load_recipes()},function(t){},i)}}):this.$q.dialog({title:"Woops",message:"Voice entry only works on APK"}).then(function(){}).catch(function(){})},save_filter:function(){var t={filters:this.api.state.selected_cats,count:this.api.state.total,created:Date.now()};this.api.save_filter(t)},set_closed:function(t){this.$delete(this.opened,t)},kw_cleared:function(t){this.api.state.text_search="",this.$refs.search_screen_txt.blur(),this.update_results()},kw_enter:function(){var t=this;this.$refs.autocompleter2.hide(),this.update_results(),setTimeout(function(){t.$refs.autocompleter2.hide()},500)},doyouhave_update_click:function(){this.update_results(),this.api.persist_ingredients()},douhave_click:function(t){this.api.enable_ingredient(t),this.doyouhave_touched=!0;var e=this.ingredient_prompt.filter(function(e){return e.ingredient==t});e[0].visible=!1},dautoc:function(t,e){if(!t){var i=this.api.state.search_history.map(function(t){return{label:t,icon:"cached",value:t}});return e(i)}this.$axios.get("https://www.supercook.com/dyn/dautoc?term="+t).then(function(t){var i=t.data;return i=_.map(i,function(t){return _.zipObject(["label","value"],[t,t])}),e(i)}).catch(function(t){})},search_from_autoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(this.kw=t.value,this.$refs.search_screen_txt.blur(),this.update_results())},resizeHeaderOnScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=500;this.small_header=t>e},clear:function(){this.can_make=0,this.results=[],this.possibilities=0},update_results:function(){var t=this;window.scrollTo(0,0);var e=this;this.no_results=!1,this.api.get_recipes({kw:this.kw,search_screen:!0}).then(function(i){t.can_make=i.total_can_make_right_now,t.results=i.results,t.possibilities=i.possibilities,0==t.possibilities&&(t.no_results=!0);var s=e.api.state.search_history.filter(function(t){return t==e.kw});if(0==s.length&&(e.api.state.search_history=[e.kw].concat(c()(e.api.state.search_history)),e.api.persist("sh",e.api.state.search_history)),i.prompt){for(var a=i.prompt,n=0;n<a.length;n++)a[n].visible=!0;t.ingredient_prompt=a.slice(0,10)}}).catch(function(t){})}},created:function(){},destroyed:function(){},mounted:function(){},activated:function(){var t=this;setTimeout(function(){0==t.results.length&&t.$refs.search_screen_txt.focus()},100)},watch:{}},v=m,g=(i("b4e8"),Object(d["a"])(v,s,a,!1,null,null,null));g.options.__file="search.vue";e["default"]=g.exports},ec1c:function(t,e,i){},f569:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-list-item",class:{"product-list-item-desktop":t.$q.platform.is.desktop}},[i("div",{staticClass:"product-item-image",on:{click:function(e){t.set_open(t.recipe.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.recipe.img,expression:"recipe.img"}],key:t.recipe.id,staticClass:"product-item-img",attrs:{alt:""}}),t.recipe.v?i("img",{staticClass:"videoplay",attrs:{src:"statics/play.png",alt:""}}):t._e()]),i("div",{staticClass:"product-item-text"},[i("div",{staticClass:"product-item-text-head"},[i("h4",{staticClass:"product-item-title item-title-nowrap",domProps:{innerHTML:t._s(t.recipe.title)},on:{click:function(e){t.set_open(t.recipe.id)}}}),i("a",{staticClass:"product-favourite-button w-inline-block",class:{active:t.$api.is_recipe_saved(t.recipe.id)},on:{click:function(e){t.toggle_saved_recipe(t.recipe.id)}}}),t.$q.platform.is.desktop?i("q-icon",{staticStyle:{"margin-left":"10px"},attrs:{name:"open_in_new",size:"15px"},nativeOn:{click:function(e){t.open_in_window(t.recipe.id)}}}):t._e()],1),i("div",{staticClass:"product-item-sub-text displayurl"},[t._v(t._s(t.recipe.domain))]),0==t.recipe.needs.length?i("div",{staticClass:"product-item-sub-text"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),t.recipe.needs.length>0?i("div",{staticClass:"product-alert-text danger"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),i("div",{staticClass:"horizontal-inner-view"},[i("div",{staticClass:"white-space-no"},t._l(t.recipe.tags,function(e,s){return i("a",{staticClass:"tags-mini-item",class:{"right-push-8px":s==t.recipe.tags.length-1}},[t._v(t._s(e))])}))])])])},a=[];s._withStripped=!0;i("6b54"),i("28a5");var n=i("96a1"),c={name:"Recipe",methods:{open_in_window:function(t){this.$api.get_recipe_details(t).then(function(t){Object(n["a"])(t.recipe.hash)})},signup_prompt:function(){var t=this;this.$q.dialog({title:this.$t("258.not.registered"),message:this.$t("259.you.need.account"),ok:this.$t("37.yes"),cancel:this.$t("38.no")}).then(function(){t.$q.platform.is.desktop?t.$api.state.desktop_route="signup":t.$router.push("/signup")}).catch(function(){})},toggle_saved_recipe:function(t){this.$api.state.login_hash?this.$api.is_recipe_saved(t)?this.$api.unsave_recipe(t):this.$api.save_recipe(t):this.signup_prompt()},set_open:function(t){this.$emit("open_recipe",t),this.$q.platform.is.desktop?(this.$api.state.recipe_id=t,this.$api.desktop_recipe_referrer=JSON.parse(JSON.stringify(this.$api.state.desktop_route))):this.$router.push("/recipe/"+t)},make_label:function(t){return 0==t.needs.length?this.$t("63.you.have.all.x.ingredients",{x:t.uses.split(",").length}):this.$q.platform.is.desktop?this.$t("82.youre.missing.x",{x:t.needs.join(", ")}):t.needs.length<3?this.$t("82.youre.missing.x",{x:t.needs.join(" "+this.$t("81.and")+" ")}):this.$t("176.youre.missing.x.ingredients",{x:t.needs.length.toString()})}},props:["recipe"]},r=c,o=(i("7a2b"),i("2877")),l=Object(o["a"])(r,s,a,!1,null,null,null);l.options.__file="result.vue";e["a"]=l.exports}}]);