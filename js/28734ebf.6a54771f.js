(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["28734ebf"],{"0d01":function(t,e,i){"use strict";var s=i("18b8"),a=i.n(s);a.a},"18b8":function(t,e,i){},"89c1":function(t,e,i){(function(t){var s,a,n;function r(t){return r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},r(t)}(function(o,l){var c="VirtualList";"object"===r(e)&&"object"===r(t)?t.exports=l(c,i("2b0e")):(a=[i("2b0e")],s=l.bind(o,c),n="function"===typeof s?s.apply(e,a):s,void 0===n||(t.exports=n))})(this,function(t,e){"object"===r(e)&&"function"===typeof e["default"]&&(e=e["default"]);var i=function(t,e,i){var s;return function(){var a=this,n=arguments,r=function(){s=null,i||t.apply(a,n)},o=i&&!s;clearTimeout(s),s=setTimeout(r,e),o&&t.apply(a,n)}};return e.component(t,{props:{size:{type:Number,required:!0},remain:{type:Number,required:!0},rtag:{type:String,default:"div"},wtag:{type:String,default:"div"},wclass:{type:String,default:""},wstyle:{type:Object,default:function(){return{}}},pagemode:{type:Boolean,default:!1},scrollelement:{type:"undefined"===typeof window?Object:HTMLElement,default:null},start:{type:Number,default:0},offset:{type:Number,default:0},variable:{type:[Function,Boolean],default:!1},bench:{type:Number,default:0},debounce:{type:Number,default:0},totop:{type:[Function,Boolean],default:!1},tobottom:{type:[Function,Boolean],default:!1},onscroll:{type:[Function,Boolean],default:!1},istable:{type:Boolean,default:!1},item:{type:[Function,Object],default:null},itemcount:{type:Number,default:0},itemprops:{type:Function,default:function(){}}},watch:{size:function(){this.changeProp="size"},remain:function(){this.changeProp="remain"},bench:function(){this.changeProp="bench",this.itemModeForceRender()},start:function(){this.changeProp="start",this.itemModeForceRender()},offset:function(){this.changeProp="offset",this.itemModeForceRender()},itemcount:function(){this.changeProp="itemcount",this.itemModeForceRender()},scrollelement:function(t,e){this.pagemode||(e&&this.removeScrollListener(e),t&&this.addScrollListener(t))}},created:function(){var t=this.start>=this.remain?this.start:0,e=this.remain+(this.bench||this.remain),i=Object.create(null);i.direction="",i.scrollTop=0,i.start=t,i.end=t+e-1,i.keeps=e,i.total=0,i.offsetAll=0,i.paddingTop=0,i.paddingBottom=0,i.varCache={},i.varAverSize=0,i.varLastCalcIndex=0,this.delta=i},mounted:function(){if(this.pagemode?this.addScrollListener(window):this.scrollelement&&this.addScrollListener(this.scrollelement),this.start){var t=this.getZone(this.start).start;this.setScrollTop(this.variable?this.getVarOffset(t):t*this.size)}else this.offset&&this.setScrollTop(this.offset)},beforeDestroy:function(){this.pagemode?this.removeScrollListener(window):this.scrollelement&&this.removeScrollListener(this.scrollelement)},beforeUpdate:function(){var t=this.delta;t.keeps=this.remain+(this.bench||this.remain);var e="start"===this.changeProp?this.start:t.start,i=this.getZone(e);if(this.changeProp&&["start","size","offset"].includes(this.changeProp)){var s="offset"===this.changeProp?this.offset:this.variable?this.getVarOffset(i.isLast?t.total:i.start):i.isLast&&t.total-e<=this.remain?t.total*this.size:e*this.size;this.$nextTick(this.setScrollTop.bind(this,s))}(this.changeProp||t.end!==i.end||e!==i.start)&&(this.changeProp="",t.end=i.end,t.start=i.start,this.forceRender())},methods:{addScrollListener:function(t){this.scrollHandler=this.debounce?i(this.onScroll.bind(this),this.debounce):this.onScroll,t.addEventListener("scroll",this.scrollHandler,!1)},removeScrollListener:function(t){t.removeEventListener("scroll",this.scrollHandler,!1)},onScroll:function(t){var e,i=this.delta,s=this.$refs.vsl;if(this.pagemode){var a=this.$el.getBoundingClientRect();e=-a.top}else if(this.scrollelement){var n=this.scrollelement.getBoundingClientRect(),r=this.$el.getBoundingClientRect();e=n.top-r.top}else e=s&&(s.$el||s).scrollTop||0;i.direction=e>i.scrollTop?"D":"U",i.scrollTop=e,i.total>i.keeps?this.updateZone(e):i.end=i.total-1;var o=i.offsetAll;if(this.onscroll){var l=Object.create(null);l.offset=e,l.offsetAll=o,l.start=i.start,l.end=i.end,this.onscroll(t,l)}!e&&i.total&&this.fireEvent("totop"),e>=o&&this.fireEvent("tobottom")},updateZone:function(t){var e=this.delta,i=this.variable?this.getVarOvers(t):Math.floor(t/this.size);"U"===e.direction&&(i=i-this.remain+1);var s=this.getZone(i),a=this.bench||this.remain,n=1===Math.abs(i-e.start-a);!n&&i-e.start<=a&&!s.isLast&&i>e.start||(n||s.start!==e.start||s.end!==e.end)&&(e.end=s.end,e.start=s.start,this.forceRender())},getZone:function(t){var e,i,s=this.delta;t=parseInt(t,10),t=Math.max(0,t);var a=s.total-s.keeps,n=t<=s.total&&t>=a||t>s.total;return e=n?Math.max(0,a):t,i=e+s.keeps-1,s.total&&i>s.total&&(i=s.total-1),{end:i,start:e,isLast:n}},forceRender:function(){var t=this;window.requestAnimationFrame(function(){t.$forceUpdate()})},itemModeForceRender:function(){this.item&&this.forceRender()},getVarOvers:function(t){var e=0,i=0,s=0,a=this.delta,n=a.total;while(e<=n){if(i=e+Math.floor((n-e)/2),s=this.getVarOffset(i),a.varAverSize||(a.varAverSize=Math.floor(s/i)),s===t)return i;s<t?e=i+1:s>t&&(n=i-1)}return e>0?--e:0},getVarOffset:function(t,e){var i=this.delta,s=i.varCache[t];if(!e&&s)return s.offset;for(var a=0,n=0;n<t;n++){var r=this.getVarSize(n,e);i.varCache[n]={size:r,offset:a},a+=r}return i.varLastCalcIndex=Math.max(i.varLastCalcIndex,t-1),i.varLastCalcIndex=Math.min(i.varLastCalcIndex,i.total-1),a},getVarSize:function(t,e){var i=this.delta.varCache[t];if(!e&&i)return i.size;if("function"===typeof this.variable)return this.variable(t)||0;var s=this.item?this.$children[t]?this.$children[t].$vnode:null:this.$slots["default"][t],a=s&&s.data&&s.data.style;if(a&&a.height){var n=a.height.match(/^(.*)px$/);return n&&+n[1]||0}return 0},getVarPaddingTop:function(){return this.getVarOffset(this.delta.start)},getVarPaddingBottom:function(){var t=this.delta,e=t.total-1;return t.total-t.end<=t.keeps||t.varLastCalcIndex===e?this.getVarOffset(e)-this.getVarOffset(t.end):(t.total-t.end)*(t.varAverSize||this.size)},getVarAllHeight:function(){var t=this.delta;return t.total-t.end<=t.keeps||t.varLastCalcIndex===t.total-1?this.getVarOffset(t.total):this.getVarOffset(t.start)+(t.total-t.end)*(t.varAverSize||this.size)},updateVariable:function(t){this.getVarOffset(t,!0)},fireEvent:function(t){this[t]&&this[t]()},setScrollTop:function(t){if(this.pagemode)window.scrollTo(0,t);else if(this.scrollelement)this.scrollelement.scrollTo(0,t);else{var e=this.$refs.vsl;e&&((e.$el||e).scrollTop=t)}},filter:function(t){var e,i,s,a=this.delta,n=this.$slots["default"]||[];this.item||this.$scopedSlots.item?(a.total=this.itemcount,a.keeps>a.total&&(a.end=a.total-1)):(n.length||(a.start=0),a.total=n.length);var r=a.total>a.keeps;this.variable?(s=this.getVarAllHeight(),e=r?this.getVarPaddingTop():0,i=r?this.getVarPaddingBottom():0):(s=this.size*a.total,e=this.size*(r?a.start:0),i=this.size*(r?a.total-a.keeps:0)-e),i<this.size&&(i=0),a.paddingTop=e,a.paddingBottom=i,a.offsetAll=s-this.size*this.remain;for(var o=[],l=a.start;l<a.total&&l<=Math.ceil(a.end);l++){var c=null;c=this.$scopedSlots.item?this.$scopedSlots.item(l):this.item?t(this.item,this.itemprops(l)):n[l],o.push(c)}return o}},render:function(t){var e=this.debounce,s=this.filter(t),a=this.delta,n=a.paddingTop,r=a.paddingBottom,o=this.istable,l=o?"div":this.wtag,c=o?"div":this.rtag;o&&(s=[t("table",[t("tbody",s)])]);var h=t(l,{style:Object.assign({display:"block","padding-top":n+"px","padding-bottom":r+"px"},this.wstyle),class:this.wclass,attrs:{role:"group"}},s);return this.pagemode||this.scrollelement?h:t(c,{ref:"vsl",style:{display:"block","overflow-y":this.size>=this.remain?"auto":"initial",height:this.size*this.remain+"px"},on:{"&scroll":e?i(this.onScroll.bind(this),e):this.onScroll}},[h])}})})}).call(this,i("62e4")(t))},a028:function(t,e,i){"use strict"},a1e9:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",[t.loading?i("div",{attrs:{id:"overlayx"}},[i("div",{staticClass:"absolute-center",staticStyle:{width:"155px"}},[i("img",{attrs:{src:"statics/images/super-book.150x150.gif",alt:""}}),i("p",{staticStyle:{color:"grey","text-align":"center","font-size":"17px","font-weight":"600"}},[t._v(t._s(t.$t("57.building.your.menu")))])])]):t._e(),i("div",{staticClass:"header-block"},[i("div",{staticClass:"head-navigation"},[t.$q.platform.is.desktop?t._e():i("a",{staticClass:"head-nav-left w-inline-block",staticStyle:{"margin-bottom":"-7px"},attrs:{id:"w-node-a61a6361b53c-31578099"},on:{click:function(e){t.$router.push("account")}}},[t.api.state.login_hash?i("img",{attrs:{src:"statics/images/male-user-white.png",alt:""}}):i("img",{attrs:{src:"statics/images/male-user-100.png",alt:""}})]),i("div",{staticClass:"head-nav-center",attrs:{id:"w-node-f9334d0a1656-31578099"}},[i("img",{attrs:{src:"statics/images/supercook-w-logo.png",alt:"",width:"130px"}})]),i("div",{staticClass:"head-nav-right",attrs:{id:"w-node-06caa6264020-31578099"}},[i("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),i("a",{staticClass:"head-link-icon w-inline-block",on:{click:function(e){t.api.state.show_filter=!0}}})])]),i("div",{staticClass:"search-bar-wrap w-form"},[i("q-search",{ref:"searchtxt",staticClass:"form-control w-input",attrs:{"hide-underline":"",id:"search",name:"query","full-width":"",placeholder:t.$t("55.search.for.anything"),autocomplete:"off",clearable:"",color:"black"},on:{clear:t.kw_cleared,enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.api.state.text_search,callback:function(e){t.$set(t.api.state,"text_search",e)},expression:"api.state.text_search"}},[i("q-autocomplete",{ref:"autocompleter",attrs:{"min-characters":0},on:{search:t.dautoc,selected:t.search_from_autoc}})],1),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),i("section",{staticClass:"content-block"},[i("div",{staticClass:"wrapper"},[0==t.$api.get_selected_ingredients().length?i("div",{staticClass:"empty-state-wrapper fixed-center"},[i("div",{staticClass:"empty-state-content"},[i("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),i("h4",{staticClass:"empty-state-heading"},[t._v(t._s(t.$t("241.add.your.ingredients.to.get.started")))]),i("a",{staticClass:"btn",on:{click:function(e){t.$router.push("ingredients")}}},[t._v(t._s(t.$t("44.add.ingredients")))])])]):t._e(),i("Filters",{staticStyle:{"margin-left":"10px"},on:{filter_changed:function(e){t.filters_changed()}}}),t.$api.get_selected_ingredients().length>0&&t.can_make&&!t.api.state.loading?i("div",{staticClass:"section-block"},[i("div",{key:"hooray",staticClass:"ingredients-category-item row justify-between items-center",staticStyle:{"padding-top":"10px","padding-bottom":"10px","flex-wrap":"nowrap"}},[i("div",{staticClass:"column"},[i("img",{staticStyle:{height:"50px","margin-left":"15px"},attrs:{src:"statics/sicons/"+t.happy_img,alt:""}})]),i("div",{staticClass:"column",staticStyle:{"text-align":"center"}},[i("div",{staticClass:"ingredients-name-block33"},[i("h4",{staticClass:"you_can_make_mobile",class:{you_can_make_desktop:t.$q.platform.is.desktop}},[t._v(t._s(t.$t("51.you.can.make")))]),i("h2",{staticClass:"can_make_num_mobile",class:{can_make_num_desktop:t.$q.platform.is.desktop}},[t._v(t._s(t.can_make.toLocaleString()))]),i("div",{staticClass:"with_your_x_ingredients_mobile",class:{with_your_x_ingredients_desktop:t.$q.platform.is.desktop}},[t._v(t._s(t.$t("52.recipes.with.your"))+" "+t._s(t.$api.get_selected_ingredients().length)+" "+t._s(t.$t("173.2.ingredients.menu_page")))])])]),i("div",{staticClass:"column",staticStyle:{"flex-wrap":"nowrap"},on:{click:function(e){t.goto_category(-1,-1)}}},[i("div",{staticClass:"row items-center",staticStyle:{"flex-wrap":"nowrap"}},[i("div",{staticClass:"col-x2-10",staticStyle:{"line-height":"10px"}},[t._v(t._s(t.$t("61.see.all")))]),i("div",{staticClass:"col"},[i("img",{staticStyle:{height:"30px"},attrs:{src:"statics/images/arrow-forward-gray.svg",alt:""}})])])])])]):t._e(),t._e(),i("div",{staticClass:"vlist"},[!t.api.state.loading&&t.menu_results?i("virtual-list",{ref:"vscroller",attrs:{size:210,remain:14,pagemode:""}},t._l(t.menu_results.breakdown,function(e,s){return t.menu_results?i("div",{key:s,staticClass:"section-block each_virtual"},[2==s||10==s?i("div",[t.ingredient_prompt.length>0?i("div",{staticClass:"ingredients-category-item row items-center",class:{"justify-between":!t.$q.platform.is.desktop},staticStyle:{"line-height":"1px","margin-top":"10px","padding-bottom":"10px"}},[i("div",{staticClass:"column"}),i("div",{staticClass:"column"},[i("div",{staticClass:"ingredients-name-block33",staticStyle:{"padding-left":"25px"}},[i("h4",{staticClass:"section-title",staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(t.$t("53.do.you.have")))]),t._l(t.get_ings_prompt(s),function(e){return i("a",{staticClass:"tags-mini-item",class:{"make-visible":e.visible,"selected-tag":!e.visible},on:{click:function(i){t.douhave_click(e.ingredient)}}},[t._v("\n                      "+t._s(e.ingredient)+"\n                    ")])})],2)]),t.doyouhave_touched?i("div",{staticStyle:{margin:"0 auto"}},[i("a",{staticClass:"btn-link question-foot",on:{click:t.doyouhave_update_click}},[t._v(t._s(t.$t("56.save.changes")))])]):t._e()]):t._e()]):t._e(),i("div",["top_images"!=e.type&&e.ids.length>0?i("div",[i("div",{staticClass:"section-head-black"},["tag"==e.type?i("h4",{staticClass:"section-title"},[t._v(t._s(t.capitalize(t.$t(t.get_menu_name(e)))))]):t._e(),"ingredient"==e.type?i("h4",{staticClass:"section-title"},[t._v(t._s(t.$t("69.using.your.x",{x:e.name}))+" ")]):t._e(),"ifuhad"==e.type?i("h4",{staticClass:"section-title"},[t._v(t._s(t.$t("229.if.u.had.x",{x:e.name}))+" ")]):t._e(),i("a",{staticClass:"btn-link with-arrow",staticStyle:{"margin-right":"-19px",float:"right","max-width":"35vw","line-height":"15px !important"},on:{click:function(i){t.goto_category(e,s)}}},[t._v(t._s(t.$t("54.view.all"))+" "+t._s(e.recipes.toLocaleString()))])]),i("div",{staticClass:"horizontal-view"},[i("div",{staticClass:"favorite-list"},t._l(t.filtered_ids(e.ids),function(s,a){return i("div",{staticClass:"favorite-list-item",class:{"padding-left":0==a,"padding-right":a==e.ids.length-1},on:{click:function(e){t.open_recipe(s.id)}}},[i("div",{staticClass:"favorite-item-wrap"},[i("div",{staticClass:"favorite-item-image"},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:s.img,expression:"recipe.img"}],key:s.id,staticClass:"favorite-item-img",on:{error:function(e){t.random_placeholder(e)}}}),s.v?i("img",{staticClass:"videoplay_menu",attrs:{src:"statics/play.png",alt:""}}):t._e(),i("div",{staticClass:"favorite-item-text"},[i("h4",{staticClass:"favorite-item-title",domProps:{innerHTML:t._s(s.title)}})])])])])}))])]):t._e()])]):t._e()})):t._e()],1)],1)]),i("transition",{attrs:{"enter-active-class":"animated slideInDown",mode:"out-in",duration:{enter:0,leave:0}}},[t.small_header?i("div",{key:"smallheader",staticClass:"button-group-fixed small-header-menu"},[i("div",{staticClass:"head-navigation-fixed2"},[i("a",{staticClass:"head-nav-left w-inline-block menu-profile-btn",on:{click:function(e){t.$router.push("account")}}},[t.api.state.login_hash?i("img",{attrs:{src:"statics/images/male-user-white.png",alt:""}}):i("img",{attrs:{src:"statics/images/male-user-100.png",alt:""}})]),i("div",{staticClass:"head-nav-center",attrs:{id:"w-node-6aa32991a2ae-2991a2aa"}},[i("div",{staticClass:"search-bar-wrap-fixed w-form"},[i("q-search",{ref:"searchtxt_header",staticClass:"form-control-search-fixed w-input",attrs:{"hide-underline":"",id:"search",name:"query","full-width":"",placeholder:t.$t("55.search.for.anything"),autocomplete:"off",clearable:"",color:"black"},on:{clear:t.kw_cleared,enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.api.state.text_search,callback:function(e){t.$set(t.api.state,"text_search",e)},expression:"api.state.text_search"}},[i("q-autocomplete",{ref:"autocompleter",attrs:{"min-characters":0},on:{search:t.dautoc,selected:t.search_from_autoc}})],1),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),i("div",{staticClass:"head-nav-right",staticStyle:{"margin-top":"-38px"},attrs:{id:"w-node-6aa32991a2b4-2991a2aa"}},[i("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),i("a",{staticClass:"head-link-icon w-inline-block",staticStyle:{right:"20px",position:"fixed",top:"1.3%"}})])]),i("div",{staticClass:"small_header_active_filters"},[i("Filters",{staticStyle:{"margin-left":"10px"},on:{filter_changed:t.update_results}})],1)]):t._e()])],1)},a=[];s._withStripped=!0;i("ac4d"),i("8a81"),i("ac6a"),i("a481"),i("6b54"),i("28a5"),i("6762"),i("2fdb"),i("7f7f");var n=i("9523"),r=i.n(n),o=(i("96a1"),i("a028"),i("1fe0"),i("e2a0")),l=i("89c1"),c=i.n(l),h={data:function(){var t;return t={vsize:350,loading:!1,api:this.$api,opened:{},last_qs:"",can_make:0,menu_results:{breakdown:[]},b4_switch:{},ingredient_prompt:[],small_header:!1},r()(t,"loading",!1),r()(t,"doyouhave_touched",!1),r()(t,"happy_img",""),r()(t,"timeout",""),r()(t,"restoring_height",!1),r()(t,"stop_timeout",!1),r()(t,"dragged",!1),r()(t,"dragTimeout",0),t},components:{Filters:o["a"],"virtual-list":c.a},computed:{is_filter_enabled:function(){if(this.api.state.selected_cats.length>0)return!0},get_best_image_recipes:function(){if(0==this.menu_results.length)return[];var t=this.menu_results.breakdown[0];return t.ids}},methods:{are_we_desktop:function(){return!!this.$q.platform.is.desktop},onDragStart:function(){var t=this;this.are_we_desktop()&&(clearTimeout(this.dragTimeout),this.dragged=!1,this.dragTimeout=setTimeout(function(){t.dragged=!0},100))},onDragClick:function(t){this.are_we_desktop()&&(this.dragged&&(t.preventDefault(),t.stopPropagation()),this.dragged=!1)},filtered_ids:function(t){return this.$q.platform.is.desktop?t.slice(0,10):t},filters_changed:function(){},random_placeholder:function(t){},clear_restore_height:function(){this.restoring_height=!1,clearTimeout(this.timeout),this.stop_timeout=!1},restore_height:function(){var t=this;if(0!=this.restoring_height){var e=window.scrollY;e!=this.api.state.last_menu_position?window.scrollTo(0,this.api.state.last_menu_position):this.stop_timeout||(setTimeout(function(){t.clear_restore_height()},300),this.stop_timeout=!0)}},random_happy_img:function(){var t=["happy1.png","happy2.png","happy3.png","happy4.png","happy5.png","happy6.png","happy7.png","happy8.png","happy9.png","happy10.png"];return t[Math.floor(Math.random()*t.length)]},capitalize:function(t){return t&&t[0].toUpperCase()+t.slice(1)},get_menu_name:function(t){var e=this.api.get_menu_item_name(t);return e||this.$i18n.getLocaleMessage(this.api.state.lang).hasOwnProperty(t.name)&&(e=this.$i18n.getLocaleMessage(this.api.state.lang)[t.name]),e},get_ings_prompt:function(t){return 2==t?this.ingredient_prompt.slice(0,7):10==t?this.ingredient_prompt.slice(7,13):void 0},change_lang:function(t){this.$i18n.locale="en"},doyouhave_update_click:function(){this.update_results(),this.api.persist_ingredients(),this.doyouhave_touched=!1},douhave_click:function(t){var e=this.ingredient_prompt.filter(function(e){return e.ingredient==t});1==e[0].visible?(e[0].visible=!1,this.api.enable_ingredient(t)):(e[0].visible=!0,this.api.disable_ingredient(t)),this.doyouhave_touched=!0},dautoc:function(t,e){if(!t){var i=this.api.state.search_history.map(function(t){return{label:t,icon:"cached",value:t}});return e(i)}this.$axios.get(this.$api.api_domain+"/dyn/dautoc?term="+t+"&lang="+this.api.state.lang).then(function(t){var i=t.data;return i=_.map(i,function(t){return _.zipObject(["label","value"],[t,t])}),e(i)}).catch(function(t){})},resizeHeaderOnScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=500;this.small_header=t>e},extract_featured_recipes:function(){return this.menu_results.breakdown[0]},handler:function(t){},restore_filter_state:function(){if(this.api.state.load_from_this_hash)var t=JSON.parse(this.api.state.load_from_this_hash);else t=JSON.parse(JSON.stringify(this.b4_switch));this.api.state.selected_cats=t.cats||[],this.api.state.focused_ingredients=t.ings||[],this.api.state.excluded_ingredients=t.excluded_ingredients||[],this.api.state.video_only=t.video||!1,this.api.state.text_search=""},reset_saved_filter:function(){},save_empty_state:function(){this.b4_switch=JSON.parse(JSON.stringify({cats:[],ings:[],excluded_ingredients:[],video:!1}))},save_filter_state:function(){this.b4_switch=JSON.parse(JSON.stringify({cats:this.api.state.selected_cats,ings:this.api.state.focused_ingredients,excluded_ingredients:this.api.state.excluded_ingredients,video:this.api.state.video_only}))},goto_category:function(t,e){this.api.state.last_menu_position=window.scrollY,this.save_filter_state(),this.api.state.category_page_name="",this.api.state.ifuhad_ingredient="","ingredient"==t.type?this.api.state.focused_ingredients.push(t.name):"ifuhad"==t.type?(this.api.state.ifuhad_ingredient=t.name,this.api.state.focused_ingredients.push(t.name)):-1!=e&&(this.api.state.selected_cats.includes(t.name)||this.api.state.selected_cats.push(t.name)),this.api.state.category_page_canmake=t.recipes,this.api.update_selected_cats(),this.$root.$emit("reset_category"),this.api.state.favorites_changed=!0,this.$router.push("/menu/category")},toggle_saved_recipe:function(t){this.api.state.login_hash?this.api.is_recipe_saved(t)?this.api.unsave_recipe(t):this.api.save_recipe(t):this.signup_prompt()},signup_prompt:function(){var t=this;this.$q.dialog({title:this.$t("258.not.registered"),message:this.$t("259.you.need.account"),ok:"Yes",cancel:"No"}).then(function(){t.$router.push("/signup")}).catch(function(){})},voice_kw_search:function(){var t=this;this.$q.platform.is.cordova?this.api.request_voice_permission().then(function(e){if(e){var i={lang:"en-US",showPopup:!0},s=t;window.plugins.speechRecognition.startListening(function(t){s.$refs.searchtxt.blur(),s.$refs.searchtxt_header.blur(),s.api.state.text_search=t[0],s.api.state.results_need_updating=!0},function(t){},i)}}):this.$q.dialog({title:"Woops",message:"Voice entry only works on APK"}).then(function(){}).catch(function(){})},save_filter:function(){var t={filters:this.api.state.selected_cats,count:this.api.state.total,created:Date.now()};this.api.save_filter(t)},mousedwn:function(t){},swiped:function(t){var e=this;return function(i,s){e.api.state.active_recipe=t,e.$router.push("/recipe")}},set_open:function(t){this.api.state.active_recipe=t,this.$router.push("/recipe")},open_recipe:function(t){this.api.state.last_menu_position=window.scrollY,this.$router.push("/recipe/"+t)},set_closed:function(t){this.$delete(this.opened,t)},image_or_blank:function(t){return this.opened.hasOwnProperty(t)?"":"https://s3.amazonaws.com/supercook-thumbs/"+t+".jpg"},kw_cleared:function(t){this.api.state.text_search="",this.$refs.searchtxt.blur(),this.$refs.searchtxt_header.blur(),this.update_results()},kw_enter:function(){var t=this;try{this.$refs.autocompleter.hide()}catch(t){}this.update_results(),setTimeout(function(){try{t.$refs.autocompleter.hide()}catch(t){}},500)},make_label:function(t){return 0==t.needs.length?"You have all "+t.uses.split(",").length+" ingredients this recipe needs":t.needs.length<3?"You're missing "+t.needs.join(" and "):"You're missing "+t.needs.length.toString()+" ingredients"},search_from_autoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(this.$refs.searchtxt.blur(),this.save_filter_state(),this.api.state.text_search=t.value,this.$router.push("/menu/category"))},update_results:function(){var t=this;if(0==this.api.get_selected_ingredients().length)return this.can_make=0,this.menu_results={breakdown:[]},void this.api.update_ingredients_on_server();if(this.api.update_selected_cats(),"/menu"==this.$router.currentRoute.path||"/desktop"==this.$router.currentRoute.path){var e=this.api.get_results_query_string();e!=this.last_qs&&(this.api.state.last_menu_position=0,window.scrollTo(0,0),this.save_filter_state(),this.loading=!0,this.api.get_recipes({menu:!0}).then(function(i){if(t.last_qs=e,t.loading=!1,"0"==i)return t.$q.dialog({title:"Error",message:"You have been signed out.  Please sign in again"}),t.api.analytics("force signout during menu search"),t.api.sign_out(),t.$root.$emit("signout"),t.api.state.login_password="",void t.$router.replace("/account");if(i.prompt){i.prompt;var s=[],a=!0,n=!1,r=void 0;try{for(var o,l=i.prompt[Symbol.iterator]();!(a=(o=l.next()).done);a=!0){var c=o.value;s.push({ingredient:c,visible:!0})}}catch(t){n=!0,r=t}finally{try{a||null==l.return||l.return()}finally{if(n)throw r}}t.ingredient_prompt=s,t.doyouhave_touched=!1}var h="menu search ".concat(t.api.state.lang);if(t.api.analytics(h),t.can_make=i.total_can_make_right_now,t.can_make<25)return t.save_empty_state(),void(t.$q.platform.is.desktop?t.api.state.desktop_route="category":t.$router.push("/menu/category"));t.menu_results=i,t.happy_img=t.random_happy_img(),window.scrollTo(0,0)}).catch(function(e){t.loading=!1,t.$q.dialog({title:t.$t("238.error"),message:t.$t("292.server.error"),ok:{color:"pink",label:t.$t("263.ok"),push:!1}})}))}}},created:function(){window.addEventListener("scroll",this.resizeHeaderOnScroll)},destroyed:function(){window.removeEventListener("scroll",this.resizeHeaderOnScroll)},mounted:function(){if(this.api.state.app_loaded||this.$q.platform.is.desktop||this.$router.push("/"),this.$q.platform.is.desktop)this.$router.push("desktop");else{var t=this;this.$root.$on("signout",function(){t.last_qs="b",t.ingredient_prompt=[]}),this.$root.$on("ingredients_cleared",function(){t.last_qs="b",t.ingredient_prompt=[],t.$q.platform.is.desktop&&t.update_results()}),this.$root.$on("loggedin",function(){t.last_qs="a",t.update_results()}),this.$root.$on("filter_update",function(){"/menu"==this.$router.currentRoute.path&&(t.api.state.last_menu_position=0,t.$router.push("/menu/category"))})}},activated:function(){this.api.state.last_menu_position>0&&(this.restoring_height=!0,this.timeout=setInterval(this.restore_height,10)),setTimeout(function(){try{document.getElementsByClassName("vlist")[0].children[0].style.paddingBottom=0}catch(t){}},700),this.restore_filter_state(),this.update_results()},watch:{"api.state.right_drawer_opened":function(t){"/menu"==this.$router.currentRoute.path&&this.update_results()}}},d=h,u=(i("0d01"),i("2877")),p=Object(u["a"])(d,s,a,!1,null,null,null);p.options.__file="menu.vue";e["default"]=p.exports}}]);