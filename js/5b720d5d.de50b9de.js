(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["5b720d5d"],{1145:function(t,i,s){"use strict";s.r(i);var e=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("q-page",[s("header",{staticClass:"header-block red-header"},[s("div",{staticClass:"head-navigation"},[s("a",{staticClass:"head-nav-left w-inline-block",attrs:{id:"w-node-a61a6361b53c-83a22c6c"},on:{click:function(i){t.$router.push("account")}}},[t.api.state.login_hash?s("img",{attrs:{src:"statics/images/male-user-white.png",alt:""}}):s("img",{attrs:{src:"statics/images/male-user-100.png",alt:""}})]),s("div",{staticClass:"head-nav-center",attrs:{id:"w-node-b67ee345173d-83a22c6c"}},[s("h1",{staticClass:"head-title"},[t._v(t._s(t.$t("194.shopping.list")))]),s("div",{staticClass:"head-sub-title"},[t._v(t._s(t.$t("195.you.have.x.items.in.list",{x:t.api.state.shopping_list.length})))])]),s("q-icon",{staticClass:"shopping-more-vert",attrs:{name:"more_vert"}},[s("q-popover",[s("q-list",{staticStyle:{"min-width":"100px"},attrs:{link:""}},[s("q-item",{directives:[{name:"close-overlay",rawName:"v-close-overlay"}],nativeOn:{click:function(i){t.clear_completed()}}},[s("q-item-side",{attrs:{icon:"clear_all"}}),s("q-item-main",{attrs:{label:t.$t("200.clear.completed")}})],1)],1)],1)],1)],1),s("div",{staticClass:"search-bar-wrap w-form"},[s("q-search",{staticClass:"form-control w-input",attrs:{id:"search_shopping_list","hide-underline":"",placeholder:t.$t("196.add.something"),autocomplete:"off",color:"black"},on:{enter:t.add_ingredient_from_autoc,selected:t.add_ingredient_from_autoc,keyup:function(i){return"button"in i||!t._k(i.keyCode,"enter",13,i.key,"Enter")?t.kw_enter(i):null}},model:{value:t.shopping_list_input,callback:function(i){t.shopping_list_input=i},expression:"shopping_list_input"}},[s("q-autocomplete",{on:{search:t.autoc,selected:t.add_ingredient_from_autoc}})],1),s("a",{staticClass:"search-mic w-inline-block",attrs:{href:"#"}}),s("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),s("section",{staticClass:"content-block"},[s("div",{staticClass:"wrapper"},[0==t.api.state.shopping_list.length?s("div",{staticClass:"section-block"},[s("h4",{staticClass:"section-title"},[t._v(t._s(t.$t("197.your.shopping.list.is.empty")))])]):t._e(),t.api.state.shopping_list.length>0?s("div",{staticClass:"section-block"},[s("h4",{staticClass:"section-title"},[t._v(t._s(t.$t("198.whats.in.my.list")))]),s("div",{staticClass:"shopping-list"},t._l(t.api.state.shopping_list,function(i){return i.checked?t._e():s("div",{staticClass:"shopping-list-item"},[s("a",{staticClass:"shopping-list-checkbox",on:{click:function(s){t.toggle(i)}}},[t._v(t._s(i.name))]),s("a",{staticClass:"shopping-list-remove2 w-inline-block",on:{click:function(s){t.remove_item(i)}}},[s("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"delete_outline"}})],1)])}))]):t._e(),t.api.state.shopping_list.length>0?s("div",{staticClass:"section-block"},[s("h4",{staticClass:"section-title"},[t._v(t._s(t.$t("199.what.i.got")))]),s("div",{staticClass:"shopping-list"},[t._l(t.api.state.shopping_list,function(i){return i.checked?s("div",{staticClass:"shopping-list-item"},[s("a",{staticClass:"shopping-list-checkbox checkboxed",on:{click:function(s){t.toggle(i)}}},[t._v(t._s(i.name))]),s("a",{staticClass:"shopping-list-remove2 w-inline-block",on:{click:function(s){t.remove_item(i)}}},[s("q-icon",{staticClass:"shopping_list_remove_icon",attrs:{name:"delete_outline"}})],1)]):t._e()}),s("div",{staticClass:"shopping-list-item-foot"})],2)]):t._e()])])])},n=[];e._withStripped=!0;s("28a5"),s("6762"),s("2fdb"),s("55dd"),s("7f7f");var a={data:function(){return{api:this.$api,shopping_list_input:""}},methods:{clear_completed:function(){this.api.state.shopping_list=this.api.state.shopping_list.filter(function(t){return 0==t.checked})},clear_all:function(){this.api.state.shopping_list=[]},kw_enter:function(){this.shopping_list_input&&this.add_ingredient_from_autoc({label:this.shopping_list_input},!1)},add_ingredient_from_autoc:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;t=t.label,i||(this.api.add_to_shopping_list(t),this.shopping_list_input="")},remove_item:function(t){this.api.remove_from_shopping_list(t)},update_shopping_list_on_server:function(){this.api.state.login_hash&&JSON.stringify(this.api.state.shopping_list)!=this.api.state.last_shopping_qs&&(this.api.state.last_shopping_qs=JSON.stringify(this.api.state.shopping_list),this.api.set_shopping_list_to_server())},get_shopping_list_from_server:function(){var t=this;this.api.state.login_hash&&this.api.get_shopping_list_from_server().then(function(i){t.api.state.shopping_list=JSON.parse(i.shopping_list),t.api.state.last_shopping_qs=JSON.stringify(t.api.state.shopping_list)}).catch(function(t){})},toggle:function(t){if(t.checked=!t.checked,t.checked){var i=this.api.enable_ingredient(t.name);i&&this.api.persist_ingredients()}this.api.persist("shopping_list",this.api.state.shopping_list,{json:!0}),this.update_shopping_list_on_server()},recent_additions:function(){var t=this.api.state.shopping_list.map(function(t){return t});return t.sort(function(t,i){return i.when-t.when})},get_voice_query:function(){var t=this;this.api.request_voice_permission().then(function(i){if(i){var s={lang:"en-US",showPopup:!0},e=t;window.plugins.speechRecognition.startListening(function(t){e.get_voice_ingredients(t[0])},function(t){},s)}})},autoc:function(t,i){var s=this.api.search_ingredients(t);0==s.length&&(s=[t]),s=_.map(s,function(t){return _.zipObject(["label","value"],[t,t])}),i(s)},get_voice_ingredients:function(t){var i=this;this.$axios.get("https://www.supercook.com/dyn/voiceinput?term="+t).then(function(t){var s=t.data;s?(i.api.state.voice_ingredients_to_confirm=s,i.add_voice_prompt=!0):i.$q.dialog({title:"Error",message:"No ingredients were recognized in your speech.  Please try again"})})}},computed:{},mounted:function(){this.api.state.app_loaded||this.$q.platform.is.desktop||this.$router.push("/"),this.get_shopping_list_from_server()},activated:function(){},watch:{"api.state.login_hash":function(t){t&&this.get_shopping_list_from_server()}}},o=a,c=(s("c361"),s("2877")),p=Object(c["a"])(o,e,n,!1,null,null,null);p.options.__file="shopping_list.vue";i["default"]=p.exports},a33c:function(t,i,s){},c361:function(t,i,s){"use strict";var e=s("a33c"),n=s.n(e);n.a}}]);