(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["213cde68"],{"260d":function(t,e,i){},"62a4":function(t,e,i){},"7a2b":function(t,e,i){"use strict";var s=i("260d"),a=i.n(s);a.a},a028:function(t,e,i){"use strict"},b31f:function(t,e,i){"use strict";var s=i("62a4"),a=i.n(s);a.a},dfd2:function(t,e,i){"use strict";i.r(e);var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("q-page",{attrs:{id:"category_page"}},[i("div",{staticClass:"header-block"},[i("div",{staticClass:"head-navigation"},[i("a",{staticClass:"head-nav-left w-inline-block cat-left-arrow-header",on:{click:function(e){t.menu_click()}}},[t.$q.platform.is.desktop?t._e():i("img",{attrs:{src:"statics/images/back-arrow-white.svg",alt:""}})]),i("div",{staticClass:"head-nav-center"},[t.$q.platform.is.desktop?i("h1",{staticClass:"head-title"},[t._v("SuperCook")]):i("h1",{staticClass:"head-title"},[t._v(t._s(t.$t("83.recipes")))]),t.can_make?i("div",{staticClass:"head-sub-title"},[t._v(t._s(t.$t("62.you.can.make.x.recipes",{x:t.can_make.toLocaleString()})))]):t._e()]),i("div",{staticClass:"head-nav-right",class:{"head-nav-right-desktop":t.$q.platform.is.desktop}},[t.$q.platform.is.desktop&&t.api.state.login_hash?i("div",{staticClass:"head-sub-title",staticStyle:{"margin-right":"10px",cursor:"default"},on:{click:t.fav_click}},[t._v(t._s(t.$t("188.favorites")))]):t._e(),t.$q.platform.is.desktop&&t.api.state.login_hash?i("img",{attrs:{src:"statics/images/male-user-white.png",alt:""},on:{click:t.account_click}}):t._e(),t.$q.platform.is.desktop&&!t.api.state.login_hash?i("img",{attrs:{src:"statics/images/male-user-100.png",alt:""},on:{click:t.account_click}}):t._e(),t.$q.platform.is.desktop?i("img",{staticStyle:{"margin-left":"10px",height:"24px","margin-top":"3px"},attrs:{src:"statics/images/language.png",alt:""},on:{click:function(e){t.switch_lang()}}}):t._e(),i("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),i("a",{staticClass:"head-link-icon w-inline-block",on:{click:function(e){t.api.state.show_filter=!0}}})])]),i("div",{staticClass:"search-bar-wrap w-form"},[i("q-search",{ref:"searchtxt_cat",staticClass:"form-control w-input",attrs:{"hide-underline":"",id:"search_cat",name:"query","full-width":"",placeholder:t.$t("84.find"),autocomplete:"off",clearable:"",color:"black",dir:"auto"},on:{clear:t.kw_cleared,enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.api.state.text_search,callback:function(e){t.$set(t.api.state,"text_search",e)},expression:"api.state.text_search"}},[i("q-autocomplete",{ref:"autocompleter",attrs:{"min-characters":0},on:{search:t.dautoc,selected:t.search_from_autoc}})],1),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),i("section",{staticClass:"content-block"},[i("div",{staticClass:"wrapper",class:{"full-screen-wrapper with-bg-pattern":t.$q.platform.is.desktop&&0==t.api.get_selected_ingredients().length}},[t.api.get_selected_ingredients().length>0?i("div",{attrs:{id:"cat_active_filters"}},[i("Filters",{ref:"cat_filters",on:{filter_changed:t.update_results}})],1):t._e(),i("transition",{attrs:{"enter-active-class":"animated fadeIn",mode:"out-in",duration:{enter:750,leave:50}}},[this.no_results&&t.api.get_selected_ingredients().length>0?i("div",{key:"no_results",staticClass:"empty-state-wrapper fixed-center"},[i("div",{staticClass:"empty-state-content"},[i("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),i("h4",{staticClass:"empty-state-heading"},[t._v(t._s(t.$t("85.no.recipes.found.with.filters")))]),i("a",{staticClass:"btn",on:{click:function(e){t.clear_filters()}}},[t._v(t._s(t.$t("86.clear.filters")))])])]):t._e()]),0==t.api.get_selected_ingredients().length?i("div",{staticStyle:{"margin-top":"100px","text-align":"center"}},[i("div",{staticClass:"empty-state-content"},[i("img",{staticClass:"empty-state-icon",attrs:{src:"statics/images/empty-state-icon.png",alt:""}}),i("h4",{staticStyle:{"padding-bottom":"15px","padding-top":"15px"}},[t._v(t._s(t.$t("241.add.your.ingredients.to.get.started")))]),i("h4",[t._v(t._s(t.$t("234.every.ingredient.unlocks")))])])]):t._e(),t.loading?i("div",{staticStyle:{float:"right","margin-right":"20px"}},[i("q-spinner",{attrs:{size:90}})],1):t._e(),t.results&&t.results.length>0?i("div",{staticClass:"section-head-black match_summary"},[t.api.state.ifuhad_ingredient?t._e():i("h4",{staticStyle:{margin:"20px","margin-top":"40px"}},[t._v("  "+t._s(t.$t("62.you.can.make.x.recipes",{x:t.can_make.toLocaleString()}))+" ")])]):t._e(),t.$q.platform.is.desktop&&t.results&&t.results.length>5&&t.ingredient_prompt.length>0?i("div",{staticStyle:{"margin-top":"10px","margin-bottom":"10px"}},[i("div",{staticClass:"column"},[i("div",{staticClass:"ingredients-name-block33",staticStyle:{"padding-left":"25px"}},[i("h4",{staticClass:"section-title",staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(t.$t("53.do.you.have")))]),t._l(t.get_ingredient_prompt(),function(e){return i("a",{staticClass:"tags-mini-item noselect",class:{"make-visible":e.visible,"selected-tag":!e.visible,"tags-mini-item-desktop":t.$q.platform.is.desktop},on:{click:function(i){t.douhave_click(e.ingredient)}}},[t._v("\n                "+t._s(e.ingredient)+"\n              ")])}),!t.show_all_douhave&&t.ingredient_prompt.length>10?i("a",{staticClass:"tags-mini-item noselect make-visible",class:{"tags-mini-item-desktop":t.$q.platform.is.desktop},on:{click:function(e){t.show_all_douhave=!0}}},[t._v("\n                +"+t._s(t.ingredient_prompt.length-10)+" "+t._s(t.$t("257.more"))+"\n              ")]):t._e()],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.doyouhave_touched,expression:"doyouhave_touched"}],staticStyle:{display:"grid",cursor:"default"}},[i("a",{staticClass:"btn-link question-foot",on:{click:t.doyouhave_update_click}},[t._v(t._s(t.$t("56.save.changes")))])])]):t._e(),t.results&&t.results.length>0?i("div",{staticClass:"section-block",class:{ipadgrid:t.$q.platform.is.ipad||t.$q.platform.is.desktop,spacer50:t.$q.platform.is.desktop}},[t._l(t.results,function(e,s){return i("div",{key:e.id},[t.$q.platform.is.ipad||t.$q.platform.is.desktop?t._e():i("div",[3==s&&t.results&&t.results.length>5&&t.ingredient_prompt.length>0?i("div",{staticClass:"ingredients-category-item row justify-between items-center",class:{douhaveipad:t.$q.platform.is.ipad},staticStyle:{"padding-top":"10px","padding-bottom":"10px"}},[i("div",{staticClass:"column"}),i("div",{staticClass:"column"},[i("div",{staticClass:"ingredients-name-block33",staticStyle:{"padding-left":"25px"}},[i("h4",{staticClass:"section-title",staticStyle:{"margin-bottom":"5px"}},[t._v(t._s(t.$t("53.do.you.have")))]),t._l(t.get_ingredient_prompt(),function(e){return i("a",{staticClass:"tags-mini-item",class:{"make-visible":e.visible,"selected-tag":!e.visible,"tags-mini-item-desktop":t.$q.platform.is.desktop},on:{click:function(i){t.douhave_click(e.ingredient)}}},[t._v("\n                      "+t._s(e.ingredient)+"\n                    ")])}),!t.show_all_douhave&&t.ingredient_prompt.length>10?i("a",{staticClass:"tags-mini-item noselect make-visible",class:{"tags-mini-item-desktop":t.$q.platform.is.desktop},on:{click:function(e){t.show_all_douhave=!0}}},[t._v("\n                      +"+t._s(t.ingredient_prompt.length-10)+" "+t._s(t.$t("257.more"))+"\n                    ")]):t._e()],2)]),i("div",{directives:[{name:"show",rawName:"v-show",value:t.doyouhave_touched,expression:"doyouhave_touched"}],staticStyle:{margin:"0 auto"}},[i("a",{staticClass:"btn-link question-foot",staticStyle:{cursor:"default"},on:{click:t.doyouhave_update_click}},[t._v(t._s(t.$t("56.save.changes")))])])]):t._e()]),i("recipe",{attrs:{recipe:e,index:s},on:{open_recipe:t.opened_recipe}})],1)}),t.allow_load_more?i("div",{staticClass:"text-center"},[i("a",{staticClass:"btn-link with-arrow down",staticStyle:{cursor:"pointer"},on:{click:function(e){t.load_more()}}},[t._v(t._s(t.$t("276.load.more")))]),t.loading?i("div",[i("q-spinner",{attrs:{size:30}})],1):t._e()]):t._e()],2):t._e()],1)]),t.small_header?i("div",{key:"smallheader",staticClass:"button-group-fixed small-header"},[i("div",{staticClass:"head-navigation-fixed-cat"},[i("a",{staticClass:"head-nav-left w-inline-block cat_back_arrow",on:{click:function(e){t.$router.go(-1)}}},[i("img",{attrs:{src:"statics/images/back-arrow-white.svg",alt:""}})]),i("div",{staticClass:"head-nav-center"},[i("div",{staticClass:"search-bar-wrap-fixed w-form"},[i("q-search",{ref:"searchtxt_cat_2",staticClass:"form-control-search-fixed w-input",attrs:{"hide-underline":"",id:"search_cat_small",name:"query","full-width":"",placeholder:t.$t("84.find"),autocomplete:"off",clearable:"",color:"black"},on:{clear:t.kw_cleared,enter:t.search_from_autoc,keyup:function(e){return"button"in e||!t._k(e.keyCode,"enter",13,e.key,"Enter")?t.kw_enter(e):null}},model:{value:t.api.state.text_search,callback:function(e){t.$set(t.api.state,"text_search",e)},expression:"api.state.text_search"}},[i("q-autocomplete",{ref:"autocompleter",attrs:{"min-characters":0},on:{search:t.dautoc,selected:t.search_from_autoc}})],1),i("input",{staticClass:"search-button w-button",attrs:{type:"submit",value:"Search"}})],1)]),i("div",{staticClass:"head-nav-right",staticStyle:{"margin-top":"-38px"}},[i("a",{staticClass:"search-icon-head w-inline-block",attrs:{href:"#"}},[i("img",{attrs:{src:"statics/images/search-white.svg",alt:""}})]),i("a",{staticClass:"head-link-icon w-inline-block",staticStyle:{right:"20px",position:"fixed",top:"1.3%"}})])]),i("div",{staticClass:"small_header_active_filters"},[i("Filters",{ref:"cat_filters2",staticStyle:{"margin-left":"10px"},on:{filter_changed:t.update_results}})],1)]):t._e()])},a=[];s._withStripped=!0;var n=i("448a"),o=i.n(n),r=(i("6762"),i("2fdb"),i("28a5"),i("a481"),i("9523")),c=i.n(r),l=(i("96a1"),i("a028"),i("1fe0"),i("f569")),d=i("e2a0"),u={addEventListeners(t,e,i){for(let s=0,a=e.length;s<a;s++)t.addEventListener(e[s],i,{passive:!1})},removeEventListeners(t,e,i){for(let s=0,a=e.length;s<a;s++)t.removeEventListener(e[s],i,{passive:!1})},emitEvent:function(t,e,i){if(t.componentInstance)t.componentInstance.$emit(e,i);else{let s;"function"===typeof window.CustomEvent?s=new window.CustomEvent(e,{detail:i}):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,!0,!0,i)),t.elm.dispatchEvent(s)}},emitEvent2:function(t,e,i){if(t.componentInstance)t.componentInstance.$emit(e,i);else{let s;"function"===typeof window.CustomEvent?s=new window.CustomEvent(e,{detail:i}):(s=document.createEvent("CustomEvent"),s.initCustomEvent(e,!0,!0,i)),t.el.dispatchEvent(s)}}};const p=["mousedown","touchstart"],h=["mousemove","touchmove"],m=["mouseup","touchend"],f=function(t,e,i){let s=t,a=!0,n=window;"boolean"===typeof e.value?a=e.value:"object"===typeof e.value?("string"===typeof e.value.target?s=t.querySelector(e.value.target):e.value.target,"string"===typeof e.value.container?n=document.querySelector(e.value.container):e.value.container,"boolean"===typeof e.value.active?a=e.value.active:e.value.active):e.value;const o=function(t,e){n===window?window.scrollBy(t,e):(n.scrollLeft+=t,n.scrollTop+=e)},r=function(){let t,a,n,r=!1;s.md=function(i){const o=i instanceof window.MouseEvent,r=o?i.pageX:i.touches[0].pageX,c=o?i.pageY:i.touches[0].pageY;try{var l=document.elementFromPoint(r-window.pageXOffset,c-window.pageYOffset)}catch(t){return}const d="nochilddrag"===e.arg,u=e.modifiers.noleft,p=e.modifiers.noright,h=e.modifiers.nomiddle,_=e.modifiers.noback,m=e.modifiers.noforward,f="firstchilddrag"===e.arg,g=l===s,v=l===s.firstChild,w=d?"undefined"!==typeof l.dataset.dragscroll:"undefined"===typeof l.dataset.noDragscroll;(g||w&&(!f||v))&&(1===i.which&&u||2===i.which&&h||3===i.which&&p||4===i.which&&_||5===i.which&&m||(n=1,t=o?i.clientX:i.touches[0].clientX,a=o?i.clientY:i.touches[0].clientY))},s.mu=function(t){n=0,r&&u.emitEvent(i,"dragscrollend"),r=!1},s.mm=function(c){const l=c instanceof window.MouseEvent;let d,p;const h={};if(n){c.preventDefault(),r||u.emitEvent(i,"dragscrollstart"),r=!0;s.scrollLeft+s.clientWidth>=s.scrollWidth||s.scrollLeft;const n=s.scrollTop+s.clientHeight>=s.scrollHeight||0===s.scrollTop;d=-t+(t=l?c.clientX:c.touches[0].clientX),p=-a+(a=l?c.clientY:c.touches[0].clientY),e.modifiers.pass?(s.scrollLeft-=e.modifiers.y?-0:d,s.scrollTop-=e.modifiers.x?-0:p,s===document.body&&(s.scrollLeft-=e.modifiers.y?-0:d,s.scrollTop-=e.modifiers.x?-0:p),(n||e.modifiers.x)&&o(0,-p)):(e.modifiers.x&&(p=-0),e.modifiers.y&&(d=-0),s.scrollLeft-=d,s.scrollTop-=p,s===document.body&&(s.scrollLeft-=d,s.scrollTop-=p)),h.deltaX=-d,h.deltaY=-p,u.emitEvent(i,"dragscrollmove",h)}},u.addEventListeners(s,p,s.md),u.addEventListeners(window,m,s.mu),u.addEventListeners(window,h,s.mm)};a?"complete"===document.readyState?r():window.addEventListener("load",r):(u.removeEventListeners(s,p,s.md),u.removeEventListeners(window,m,s.mu),u.removeEventListeners(window,h,s.mm))};var g={inserted:function(t,e,i){f(t,e,i)},update:function(t,e,i,s){JSON.stringify(e.value)!==JSON.stringify(e.oldValue)&&f(t,e,i)},unbind:function(t,e,i){const s=t;u.removeEventListeners(s,p,s.md),u.removeEventListeners(window,m,s.mu),u.removeEventListeners(window,h,s.mm)}};const v=["mousedown","touchstart"],w=["mousemove","touchmove"],k=["mouseup","touchend"],y=function(t,e,i){let s=t,a=!0,n=window;"boolean"===typeof e.value?a=e.value:"object"===typeof e.value?("string"===typeof e.value.target?s=t.querySelector(e.value.target):e.value.target,"string"===typeof e.value.container?n=document.querySelector(e.value.container):e.value.container,"boolean"===typeof e.value.active?a=e.value.active:e.value.active):e.value;const o=function(t,e){n===window?window.scrollBy(t,e):(n.scrollLeft+=t,n.scrollTop+=e)},r=function(){let t,a,n,r=!1;s.md=function(i){const o=i instanceof window.MouseEvent,r=o?i.pageX:i.touches[0].pageX,c=o?i.pageY:i.touches[0].pageY,l=document.elementFromPoint(r-window.pageXOffset,c-window.pageYOffset),d="nochilddrag"===e.arg,u=e.modifiers.noleft,p=e.modifiers.noright,h=e.modifiers.nomiddle,_=e.modifiers.noback,m=e.modifiers.noforward,f="firstchilddrag"===e.arg,g=l===s,v=l===s.firstChild,w=d?"undefined"!==typeof l.dataset.dragscroll:"undefined"===typeof l.dataset.noDragscroll;(g||w&&(!f||v))&&(1===i.which&&u||2===i.which&&h||3===i.which&&p||4===i.which&&_||5===i.which&&m||(n=1,t=o?i.clientX:i.touches[0].clientX,a=o?i.clientY:i.touches[0].clientY))},s.mu=function(t){n=0,r&&u.emitEvent2(i,"dragscrollend"),r=!1},s.mm=function(c){const l=c instanceof window.MouseEvent;let d,p;const h={};if(n){c.preventDefault(),r||u.emitEvent2(i,"dragscrollstart"),r=!0;const n=s.scrollLeft+s.clientWidth>=s.scrollWidth||0===s.scrollLeft,_=s.scrollTop+s.clientHeight>=s.scrollHeight||0===s.scrollTop;d=-t+(t=l?c.clientX:c.touches[0].clientX),p=-a+(a=l?c.clientY:c.touches[0].clientY),e.modifiers.pass?(s.scrollLeft-=e.modifiers.y?-0:d,s.scrollTop-=e.modifiers.x?-0:p,s===document.body&&(s.scrollLeft-=e.modifiers.y?-0:d,s.scrollTop-=e.modifiers.x?-0:p),(n||e.modifiers.y)&&o(-d,0),(_||e.modifiers.x)&&o(0,-p)):(e.modifiers.x&&(p=-0),e.modifiers.y&&(d=-0),s.scrollLeft-=d,s.scrollTop-=p,s===document.body&&(s.scrollLeft-=d,s.scrollTop-=p)),h.deltaX=-d,h.deltaY=-p,u.emitEvent2(i,"dragscrollmove",h)}},u.addEventListeners(s,v,s.md),u.addEventListeners(window,k,s.mu),u.addEventListeners(window,w,s.mm)};a?"complete"===document.readyState?r():window.addEventListener("load",r):(u.removeEventListeners(s,v,s.md),u.removeEventListeners(window,k,s.mu),u.removeEventListeners(window,w,s.mm))};var $={mounted:function(t,e,i){y(t,e,i)},updated:function(t,e,i,s){JSON.stringify(e.value)!==JSON.stringify(e.oldValue)&&y(t,e,i)},unmounted:function(t,e,i){const s=t;u.removeEventListeners(s,v,s.md),u.removeEventListeners(window,k,s.mu),u.removeEventListeners(window,w,s.mm)}};const b={install(t,e){const i=Number(t.version.split(".")[0]),s=Number(t.version.split(".")[1]);if(i<2&&s<1)throw new Error(`v-dragscroll supports vue version 2.1 and above. You are using Vue@${t.version}. Please upgrade to the latest version of Vue.`);t.directive("dragscroll",g)}};"undefined"!==typeof window&&window.Vue&&(window.Vue.version.split(".")[0]<=2?(window.VueDragscroll=b,window.Vue.use(b)):window.VueDragscroll=$);var x={data:function(){var t;return t={loading:!1,api:this.$api,opened:{},last_qs:"",can_make:0,results:[],ingredient_prompt:[],doyouhave_touched:!1,show_all_douhave:!1,possibilities:0,small_header:!1,no_results:!1},c()(t,"loading",!1),c()(t,"allow_load_more",!1),c()(t,"last_load_more_number",0),c()(t,"dragged",!1),c()(t,"dragTimeout",0),c()(t,"reload_debouncer",0),t},directives:{dragscroll:g},components:{Recipe:l["a"],Filters:d["a"]},computed:{is_filter_enabled:function(){if(this.api.state.selected_cats.length>0)return!0}},methods:{switch_lang:function(){this.api.persist("lang",""),this.$q.platform.is.desktop?this.api.state.desktop_route="onboarding":this.$router.push("onboarding")},handleFocus:function(){},handleFocusOut:function(){},get_ingredient_prompt:function(){return this.show_all_douhave?this.ingredient_prompt:this.ingredient_prompt.slice(0,10)},account_click:function(){this.api.state.desktop_route="account",this.api.state.last_desktop_position=0},fav_click:function(){this.api.state.desktop_route="favorites",this.api.state.last_desktop_position=0},opened_recipe:function(t){if(this.$q.platform.is.desktop){var e=document.querySelector("#desktop_main");this.api.state.last_desktop_position=e.scrollTop}},onDragStart:function(){var t=this;clearTimeout(this.dragTimeout),this.dragged=!1,this.dragTimeout=setTimeout(function(){t.dragged=!0},100)},onDragClick:function(t){this.dragged&&(t.preventDefault(),t.stopPropagation()),this.dragged=!1},menu_click:function(){this.api.state.focused_ingredients=[],window.history.back()},load_more:function(){this.api.analytics("load more results"),this.update_results({load_more:1})},dautoc:function(t,e){if(!t){var i=this.api.state.search_history.map(function(t){return{label:t,icon:"cached",value:t}});return e(i)}this.$axios.get(this.$api.api_domain+"/dyn/dautoc?term="+t+"&lang="+this.api.state.lang).then(function(t){var i=t.data;return i=_.map(i,function(t){return _.zipObject(["label","value"],[t,t])}),e(i)}).catch(function(t){})},clear_filters:function(){this.api.clear_all_filters(),this.update_results()},signup_prompt:function(){var t=this;this.$q.dialog({title:this.$t("258.not.registered"),message:this.$t("259.you.need.account"),ok:"Yes",cancel:"No"}).then(function(){t.$router.push("/signup")}).catch(function(){})},voice_kw_search:function(){var t=this;this.$q.platform.is.cordova?this.api.request_voice_permission().then(function(e){if(e){var i={lang:"en-US",showPopup:!0},s=t;window.plugins.speechRecognition.startListening(function(t){s.$refs.searchtxt_cat.blur(),s.api.state.text_search=t[0],s.api.state.results_need_updating=!0,s.api.load_recipes()},function(t){},i)}}):this.$q.dialog({title:"Woops",message:"Voice entry only works on APK"}).then(function(){}).catch(function(){})},save_filter:function(){var t={filters:this.api.state.selected_cats,count:this.api.state.total,created:Date.now()};this.api.save_filter(t)},disable_category:function(t){this.api.state.selected_mealtype==t&&(this.api.state.selected_mealtype=""),this.api.state.selected_cuisine==t&&(this.api.state.selected_cuisine="");var e=this.api.state.selected_diet.indexOf(t);if(e>-1&&(this.api.state.selected_diet.splice(e,1),this.api.state.persist_diets=!1),t.indexOf("using ")>-1){var i=t.replace("using ",""),s=this.api.state.focused_ingredients.indexOf(i);s>-1&&this.api.state.focused_ingredients.splice(i,1)}t.indexOf("search:")>-1&&(this.api.state.text_search=""),0==t.indexOf("at least")&&(this.api.state.rating_min=0),t.indexOf("max ingredients:")>-1&&(this.api.state.max_ingredients=this.api.state.default_max_ingredients),t.indexOf("only my favorites")>-1&&(this.api.state.only_favorites=!1);var a=t.split(" ");if(("low"==a[0]||"high"==a[0])&&this.api.state.chosen_nutritional_filters){var n=this.api.state.chosen_nutritional_filters.indexOf(t);n>-1&&this.api.state.chosen_nutritional_filters.splice(n,1)}this.api.load_recipes()},set_closed:function(t){this.$delete(this.opened,t)},kw_cleared:function(t){this.api.state.text_search="",this.$refs.searchtxt_cat.blur(),this.update_results()},kw_enter:function(){var t=this;try{this.$refs.autocompleter.hide()}catch(t){}this.update_results(),setTimeout(function(){try{t.$refs.autocompleter.hide()}catch(t){}},500)},doyouhave_update_click:function(){this.update_results(),this.api.state.ifuhad_ingredient&&this.api.get_selected_ingredients().includes(this.api.state.ifuhad_ingredient)&&(this.api.state.ifuhad_ingredient=""),this.api.persist_ingredients(),this.doyouhave_touched=!1},douhave_click:function(t){var e=this.ingredient_prompt.filter(function(e){return e.ingredient==t});1==e[0].visible?(e[0].visible=!1,this.api.enable_ingredient(t)):(e[0].visible=!0,this.api.disable_ingredient(t)),this.doyouhave_touched=!0},search_from_autoc:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;e||(0!=this.api.get_selected_ingredients().length?(this.$refs.searchtxt_cat.blur(),this.api.state.text_search=t.value,this.update_results()):this.$q.dialog({title:this.$t("31.woops"),message:this.$t("237.you.have.no.ingredients"),ok:{color:"pink",label:this.$t("263.ok"),push:!1}}))},resizeHeaderOnScroll:function(){var t=window.pageYOffset||document.documentElement.scrollTop,e=500;this.small_header=t>e},update_results:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(0!=this.api.get_selected_ingredients().length){var i=e.load_more||0,s=e.back_from_recipe||0;if(this.no_results=!1,this.api.update_selected_cats(),"/menu/category"==this.$router.currentRoute.path||"/desktop"==this.$router.currentRoute.path){var a={start_position:0};i&&(a.start_position=this.results.length,this.last_load_more_number=a.start_position),s&&(a.start_position=this.last_load_more_number);var n=this.api.get_results_query_string(a);if(n!=this.last_qs){0==a.start_position&&window.scrollTo(0,0);var r=this;this.no_results=!1,this.$q.platform.is.desktop?this.loading=!0:this.$q.loading.show({message:""}),this.api.get_recipes(a).then(function(e){if(r.last_qs=n,t.$q.loading.hide(),t.loading=!1,"0"==e)return t.$q.dialog({title:"Error",message:"You have been signed out.  Please sign in again"}),t.api.analytics("force signout during category search"),t.api.sign_out(),t.$root.$emit("signout"),t.api.state.login_password="",t.$router.replace("/account"),void(t.loading=!1);r.can_make=e.total_can_make_right_now,r.api.state.exclusion_ingredient_options=e.uses_for_exclusion;for(var i=0;i<r.api.state.excluded_ingredients.length;i++){var s=r.api.state.excluded_ingredients[i];r.api.state.exclusion_ingredient_options.includes(s)||r.api.state.exclusion_ingredient_options.unshift(s)}if(0==a.start_position?r.results=e.results:r.results=o()(r.results).concat(o()(e.results)),0==r.results.length&&(r.no_results=!0,r.allow_load_more=!1),r.possibilities=e.possibilities,r.results.length<r.possibilities?r.allow_load_more=!0:r.allow_load_more=!1,r.results.length>0&&r.api.state.text_search){var c=r.api.state.text_search,l=r.api.state.search_history.filter(function(t){return t==c});0==l.length&&(r.api.state.search_history=[c].concat(o()(r.api.state.search_history)),r.api.state.search_history.length>10&&(r.api.state.search_history=r.api.state.search_history.slice(0,10)),r.api.persist("sh",r.api.state.search_history))}if(e.prompt){for(var d=e.prompt,u=0;u<d.length;u++)d[u].visible=!0;t.ingredient_prompt=d,t.show_all_douhave=!1}var p="category search ".concat(t.api.state.lang);t.api.analytics(p)}).catch(function(e){t.$q.loading.hide(),t.loading=!1,"no ingredients"!=e&&(t.$q.dialog({title:t.$t("238.error"),message:t.$t("292.server.error"),ok:{color:"pink",label:t.$t("263.ok"),push:!1}}),t.can_make=0,t.results=[])})}}}}},created:function(){window.addEventListener("scroll",this.resizeHeaderOnScroll)},destroyed:function(){window.removeEventListener("scroll",this.resizeHeaderOnScroll)},mounted:function(){this.$q.platform.is.desktop&&(this.update_results(),this.reload_debouncer=_.throttle(function(t){this.update_results()},2e3,{leading:!1}));var t=this;this.$root.$on("filter_update",function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"/menu/category"!=this.$router.currentRoute.path&&"/desktop"!=this.$router.currentRoute.path||(this.$q.platform.is.desktop?e.force?t.update_results():t.reload_debouncer():t.update_results())}),this.$root.$on("reset_category",function(){t.last_load_more_number=0}),this.$root.$on("clear_results",function(){t.results=[],t.no_results=!1,t.last_qs=""}),this.$root.$on("ingredients_cleared",function(){t.last_qs="b",t.ingredient_prompt=[],t.$q.platform.is.desktop&&t.update_results()})},activated:function(){if(this.api.state.last_desktop_position){var t=document.querySelector("#desktop_main");t.scrollTop=this.api.state.last_desktop_position}this.update_results({back_from_recipe:1});try{this.$refs.cat_filters.reorder(),this.small_header&&this.$refs.cat_filters2.reorder()}catch(t){}},watch:{}},C=x,q=(i("b31f"),i("2877")),E=Object(q["a"])(C,s,a,!1,null,null,null);E.options.__file="category.vue";e["default"]=E.exports},f569:function(t,e,i){"use strict";var s=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"product-list-item",class:{"product-list-item-desktop":t.$q.platform.is.desktop}},[i("div",{staticClass:"product-item-image",on:{click:function(e){t.set_open(t.recipe.id)}}},[i("img",{directives:[{name:"lazy",rawName:"v-lazy",value:t.recipe.img,expression:"recipe.img"}],key:t.recipe.id,staticClass:"product-item-img",attrs:{alt:""}}),t.recipe.v?i("img",{staticClass:"videoplay",attrs:{src:"statics/play.png",alt:""}}):t._e()]),i("div",{staticClass:"product-item-text"},[i("div",{staticClass:"product-item-text-head"},[i("h4",{staticClass:"product-item-title item-title-nowrap",domProps:{innerHTML:t._s(t.recipe.title)},on:{click:function(e){t.set_open(t.recipe.id)}}}),i("a",{staticClass:"product-favourite-button w-inline-block",class:{active:t.$api.is_recipe_saved(t.recipe.id)},on:{click:function(e){t.toggle_saved_recipe(t.recipe.id)}}}),t.$q.platform.is.desktop?i("q-icon",{staticStyle:{"margin-left":"10px"},attrs:{name:"open_in_new",size:"15px"},nativeOn:{click:function(e){t.open_in_window(t.recipe.id)}}}):t._e()],1),i("div",{staticClass:"product-item-sub-text displayurl"},[t._v(t._s(t.recipe.domain))]),0==t.recipe.needs.length?i("div",{staticClass:"product-item-sub-text"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),t.recipe.needs.length>0?i("div",{staticClass:"product-alert-text danger"},[t._v(t._s(t.make_label(t.recipe)))]):t._e(),i("div",{staticClass:"horizontal-inner-view"},[i("div",{staticClass:"white-space-no"},t._l(t.recipe.tags,function(e,s){return i("a",{staticClass:"tags-mini-item",class:{"right-push-8px":s==t.recipe.tags.length-1}},[t._v(t._s(e))])}))])])])},a=[];s._withStripped=!0;i("6b54"),i("28a5");var n=i("96a1"),o={name:"Recipe",methods:{open_in_window:function(t){this.$api.get_recipe_details(t).then(function(t){Object(n["a"])(t.recipe.hash)})},signup_prompt:function(){var t=this;this.$q.dialog({title:this.$t("258.not.registered"),message:this.$t("259.you.need.account"),ok:this.$t("37.yes"),cancel:this.$t("38.no")}).then(function(){t.$q.platform.is.desktop?t.$api.state.desktop_route="signup":t.$router.push("/signup")}).catch(function(){})},toggle_saved_recipe:function(t){this.$api.state.login_hash?this.$api.is_recipe_saved(t)?this.$api.unsave_recipe(t):this.$api.save_recipe(t):this.signup_prompt()},set_open:function(t){this.$emit("open_recipe",t),this.$q.platform.is.desktop?(this.$api.state.recipe_id=t,this.$api.desktop_recipe_referrer=JSON.parse(JSON.stringify(this.$api.state.desktop_route))):this.$router.push("/recipe/"+t)},make_label:function(t){return 0==t.needs.length?this.$t("63.you.have.all.x.ingredients",{x:t.uses.split(",").length}):this.$q.platform.is.desktop?this.$t("82.youre.missing.x",{x:t.needs.join(", ")}):t.needs.length<3?this.$t("82.youre.missing.x",{x:t.needs.join(" "+this.$t("81.and")+" ")}):this.$t("176.youre.missing.x.ingredients",{x:t.needs.length.toString()})}},props:["recipe"]},r=o,c=(i("7a2b"),i("2877")),l=Object(c["a"])(r,s,a,!1,null,null,null);l.options.__file="result.vue";e["a"]=l.exports}}]);